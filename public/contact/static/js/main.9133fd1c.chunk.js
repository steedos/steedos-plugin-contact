(this["webpackJsonp@steedos/react-demo-app"]=this["webpackJsonp@steedos/react-demo-app"]||[]).push([[0],{1e3:function(e,t,n){var r=n(29),o=n(1001);"string"===typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},1001:function(e,t,n){"use strict";n.r(t);var r=n(16),o=n.n(r)()(!0);o.push([e.i,".object-expand-table .expand-part {\n  background-color: #f0f0f0;\n  margin-right: 24px;\n}\n.object-expand-table .expand-part .ant-pro-card-body {\n  padding: 12px;\n}\n.object-expand-table .expand-part .ant-pro-card-body .ant-tree {\n  background-color: #f0f0f0;\n}\n.object-expand-table .table-part .ant-card-body {\n  padding: 0;\n}\n.object-expand-table .table-part .ant-table-tbody > tr:last-child > td {\n  border: none;\n}\n","",{version:3,sources:["webpack://../builder-object/src/components/ObjectExpandTable.less"],names:[],mappings:"AAsCA;EAEI,yBAAA;EACA,kBAAA;AAtCJ;AAmCA;EAKM,aAAA;AArCN;AAgCA;EAOQ,yBAAA;AApCR;AA6BA;EAaM,UAAA;AAvCN;AA0BA;EAgBM,YAAA;AAvCN",sourcesContent:["// .object-expand-table {\n//   > .ant-pro-card-body {\n//     position: relative;\n//   }\n//   .expand-part {\n//     margin-right: 12px;\n//     background-color: rgb(240, 240, 240);\n//     height: 100%;\n//     overflow-x: hidden;\n//     display: inlin;\n//     position: absolute;\n//     .ant-tree {\n//       background: transparent;\n//     }\n//     .ant-pro-card-body {\n//       padding: 12px;\n//       padding-left: 4px;\n//     }\n//   }\n\n//   .table-part {\n//     padding-left: 12px;\n//     margin-left: 30%;\n//     .ant-pro-table-search {\n//       margin-bottom: 0;\n//       padding-left: 0;\n//       padding-right: 0;\n//       padding-top: 12px;\n//     }\n//     .ant-card-body {\n//       padding-right: 0;\n//     }\n//     .ant-table-tbody > tr:last-child > td {\n//       border: none;\n//     }\n//   }\n// }\n\n.object-expand-table{\n  .expand-part{\n    background-color: rgb(240, 240, 240);\n    margin-right: 24px;\n    .ant-pro-card-body{\n      padding: 12px;\n      .ant-tree{\n        background-color: rgb(240, 240, 240);\n      }\n    }\n  }\n  .table-part{\n    .ant-card-body{\n      padding: 0;\n    }\n    .ant-table-tbody > tr:last-child > td {\n      border: none;\n    }\n  }\n}\n"],sourceRoot:""}]),t.default=o},1031:function(e,t,n){var r=n(29),o=n(1032);"string"===typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},1032:function(e,t,n){"use strict";n.r(t);var r=n(16),o=n.n(r)()(!0);o.push([e.i,".ant-select .ant-select-selection-item {\n  display: flex;\n}\n.ant-select .ant-select-selection-item .anticon-smile {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding-right: 7px;\n}\n.ant-select .ant-select-selection-item .ant-select-selection-item-content {\n  display: flex;\n}\n.ant-select-dropdown .rc-virtual-list-holder-inner .ant-select-item-option-content {\n  display: flex;\n}\n.ant-select-dropdown .rc-virtual-list-holder-inner .ant-select-item-option-content .anticon-smile {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding-right: 7px;\n}\n.ant-select-selector .ant-select-selection-overflow-item .ant-select-selection-item-remove {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.ant-select-tree .ant-select-tree-list .ant-select-tree-treenode .ant-select-tree-indent-unit {\n  display: inline-block;\n  width: 24px;\n}\n","",{version:3,sources:["webpack://../builder-object/src/valueTypes/lookup.less"],names:[],mappings:"AACA;EAEQ,aAAA;AADR;AADA;EAKY,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,kBAAA;AADZ;AAPA;EAYY,aAAA;AAFZ;AAOA;EAGY,aAAA;AAPZ;AAIA;EAKgB,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,kBAAA;AANhB;AAYA;EAGY,aAAA;EACA,uBAAA;EACA,mBAAA;AAZZ;AAiBA;EAIgB,qBAAA;EACA,WAAA;AAlBhB",sourcesContent:["// \u9009\u4e2d\u7684\u9009\u9879\u9644\u5e26\u7684icon\u6837\u5f0f\n.ant-select {\n    .ant-select-selection-item{\n        display: flex;\n        // \u5355\u9009\n        .anticon-smile{\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            padding-right: 7px;\n        }\n        // \u591a\u9009\n        .ant-select-selection-item-content{\n            display: flex;\n        }\n    }\n}\n// \u4e0b\u62c9\u6846\u4e2d\u9009\u9879\u9644\u5e26\u7684icon\u6837\u5f0f\n.ant-select-dropdown{\n    .rc-virtual-list-holder-inner{\n        .ant-select-item-option-content{\n            display: flex;\n            .anticon-smile{\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                padding-right: 7px;\n            }\n        }\n    }\n}\n// \u591a\u9009\u65f6 \u5220\u9664 \u56fe\u6807\u6837\u5f0f\u8c03\u6574\n.ant-select-selector{\n    .ant-select-selection-overflow-item{\n        .ant-select-selection-item-remove{\n            display: flex;\n            justify-content: center;\n            align-items: center;\n        }\n    }\n}\n// \u652f\u6301\u7684tree\u4e0b\u62c9\u6846\u5728webapp\u6837\u5f0f\u8c03\u6574\n.ant-select-tree{\n    .ant-select-tree-list{\n        .ant-select-tree-treenode{\n            .ant-select-tree-indent-unit{\n                display: inline-block;\n                width: 24px;\n            }\n        }\n    }\n}\n\n"],sourceRoot:""}]),t.default=o},1037:function(e,t,n){var r=n(29),o=n(1038);"string"===typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},1038:function(e,t,n){"use strict";n.r(t);var r=n(16),o=n.n(r)()(!0);o.push([e.i,".ag-theme-balham {\n  font-size: 13px;\n  overflow: scroll;\n}\n.ag-theme-balham .ag-root-wrapper {\n  overflow: visible;\n}\n.ag-theme-balham .ag-root-wrapper-body.ag-layout-normal {\n  height: inherit;\n}\n.ag-theme-balham .ag-row {\n  border-top-style: none;\n  border-left-style: none;\n  border-right-style: none;\n}\n.ag-theme-balham .ag-row:last-child {\n  border-bottom-style: none;\n}\n.ag-theme-balham .ag-ltr .ag-has-focus .ag-cell-focus:not(.ag-cell-range-selected),\n.ag-theme-balham .ag-cell-inline-editing.ag-cell-focus {\n  overflow: visible;\n  border: none;\n  background: transparent;\n}\n.ag-theme-balham .ag-ltr .ag-has-focus .ag-cell-focus:not(.ag-cell-range-selected) .ag-react-container,\n.ag-theme-balham .ag-cell-inline-editing.ag-cell-focus .ag-react-container {\n  min-width: 200px;\n  overflow: visible;\n}\n.ag-theme-balham .ag-popup-editor {\n  border: none;\n  box-shadow: none;\n}\n.ag-theme-balham .ag-popup-editor .slds-popover--edit .slds-popover__body,\n.ag-theme-balham .ag-popup-editor .slds-popover_edit .slds-popover__body {\n  padding: 0.25rem;\n}\n.ag-theme-balham .ag-body-viewport {\n  min-height: 10px;\n}\n","",{version:3,sources:["webpack://../builder-object/src/valueTypes/aggrid.less"],names:[],mappings:"AAEA;EACE,eAAA;EACA,gBAAA;AADF;AADA;EAKI,iBAAA;AADJ;AAJA;EAQI,eAAA;AADJ;AAPA;EAWI,sBAAA;EACA,uBAAA;EACA,wBAAA;AADJ;AAZA;EAgBI,yBAAA;AADJ;AAfA;;EAoBI,iBAAA;EACA,YAAA;EACA,uBAAA;AADJ;AArBA;;EAwBM,gBAAA;EACA,iBAAA;AACN;AA1BA;EA6BI,YAAA;EACA,gBAAA;AAAJ;AA9BA;;EAgCM,gBAAA;AAEN;AAlCA;EAoCI,gBAAA;AACJ",sourcesContent:["\n\n.ag-theme-balham {\n  font-size: 13px;    \n  overflow: scroll;\n  \n  .ag-root-wrapper{\n    overflow: visible;\n  }\n  .ag-root-wrapper-body.ag-layout-normal {\n    height: inherit;\n  }\n  .ag-row {\n    border-top-style: none;\n    border-left-style: none;\n    border-right-style: none;\n  }\n  .ag-row:last-child {\n    border-bottom-style: none;\n  }\n  .ag-ltr .ag-has-focus .ag-cell-focus:not(.ag-cell-range-selected),\n  .ag-cell-inline-editing.ag-cell-focus {\n    overflow: visible;\n    border: none;\n    background: transparent;\n    .ag-react-container {\n      min-width: 200px;\n      overflow: visible;\n    }\n  }\n  .ag-popup-editor {\n    border: none;\n    box-shadow: none;\n    .slds-popover--edit .slds-popover__body, .slds-popover_edit .slds-popover__body {\n      padding: 0.25rem;\n    }\n  }\n  .ag-body-viewport {\n    min-height: 10px;\n  }\n}\n"],sourceRoot:""}]),t.default=o},1041:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(30),a=n.n(i),c=(n(727),n(331)),l=n(152),s=n(95),u=(n(728),n(9)),d=n(1),f=n(20),p=n.n(f),h=n(148),b=n(632),v=n(626),m=n(71),y=n(24),g={},j={},A=function(e,t){if(void 0===e&&(e=null),void 0===t&&(t={headers:{}}),e=e||t.url,"GET"===t.method||!t.method){var n=j[e],r=g[""+e+n];return n&&(t.headers["If-None-Match"]=n),fetch(e,t).then((function(t){if(304===t.status)return r.clone();if(200===t.status){var n=t.headers.get("Etag");n&&(g[""+e+n]=t.clone(),j[e]=n)}return t}))}return Reflect.apply(fetch,void 0,[e,t])};function O(e){var t=Object.keys(e);if(0===t.length)return"";for(var n="?",r=0;r<t.length;r++){var o=t[r];n+=o+"="+encodeURIComponent(e[o]),r<t.length-1&&(n+="&")}return n}var w=n(235),x=n(163),_=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function c(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}l((r=r.apply(e,t||[])).next())}))},E=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},S=function(){function e(e,t){this.client=e,this.objectName=t}return e.prototype.getFilter=function(e){if(x.default.isArray(e)){var t={};return t.userId=this.client.getUserId(),t.spaceId=this.client.getSpaceId(),t.user={},Object(w.formatFiltersToODataQuery)(e,t)}return e},e.prototype.getSelect=function(e){return x.default.isArray(e)?e.toString():e},e.prototype.getQueryParams=function(e,t,n){var r={},o=this.getFilter(e);o&&(r.$filter=o);var i=this.getSelect(t);if(i&&(r.$select=i),n){n.pageSize&&(r.$top=n.pageSize),n.current&&n.pageSize&&(r.$skip=(n.current-1)*n.pageSize);var a=void 0;if("string"===typeof n.sort)a=n.sort;else if(x.default.isArray(n.sort)){a=x.default.map(n.sort,(function(e){return"desc"===e[1]?e[0]+" desc":e[0]})).join(",")}a&&(r.$orderby=a)}return r},e.prototype.getConfig=function(){return _(this,void 0,void 0,(function(){var e;return E(this,(function(t){switch(t.label){case 0:return e=this.client.getUrl()+"/service/api/@"+this.objectName+"/uiSchema",[4,this.client.doFetch(e,{method:"get"})];case 1:return[2,t.sent()]}}))}))},e.prototype.getRecordPermissions=function(e){return _(this,void 0,void 0,(function(){var t;return E(this,(function(n){switch(n.label){case 0:return t=this.client.getUrl()+"/service/api/@"+this.objectName+"/recordPermissions/"+e,[4,this.client.doFetch(t,{method:"get"})];case 1:return[2,n.sent()]}}))}))},e.prototype.find=function(e,t,n){return _(this,void 0,void 0,(function(){var r,o;return E(this,(function(i){switch(i.label){case 0:return r=this.getQueryParams(e,t,n),o=this.client.getBaseRoute()+"/api/v4/".concat(this.objectName)+O(r),[4,this.client.doFetch(o,{method:"get"})];case 1:return[2,i.sent()]}}))}))},e.prototype.findOne=function(e,t,n){return _(this,void 0,void 0,(function(){return E(this,(function(e){return[2]}))}))},e.prototype.record=function(e,t){return _(this,void 0,void 0,(function(){return E(this,(function(e){return[2]}))}))},e.prototype.retrieve=function(e,t){return _(this,void 0,void 0,(function(){return E(this,(function(e){return[2]}))}))},e.prototype.insert=function(e){return _(this,void 0,void 0,(function(){var t;return E(this,(function(n){switch(n.label){case 0:return t=this.client.getBaseRoute()+"/api/v4/"+this.objectName,[4,this.client.doFetch(t,{method:"POST",body:JSON.stringify(e)})];case 1:return[2,n.sent().value]}}))}))},e.prototype.update=function(e,t){return _(this,void 0,void 0,(function(){var n;return E(this,(function(r){switch(r.label){case 0:return n=this.client.getBaseRoute()+"/api/v4/"+this.objectName+"/"+e,[4,this.client.doFetch(n,{method:"put",body:JSON.stringify(t)})];case 1:return[2,r.sent().value]}}))}))},e.prototype.delete=function(e){return _(this,void 0,void 0,(function(){var t;return E(this,(function(n){switch(n.label){case 0:return t=this.client.getBaseRoute()+"/api/v4/"+this.objectName+"/"+e,[4,this.client.doFetch(t,{method:"delete"})];case 1:return[2,n.sent()]}}))}))},e.prototype.count=function(e){return _(this,void 0,void 0,(function(){return E(this,(function(e){return[2]}))}))},e}(),C=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function c(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}l((r=r.apply(e,t||[])).next())}))},I=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},P=function(){function e(e){this.client=e}return e.prototype.query=function(e){return C(this,void 0,void 0,(function(){var t,n;return I(this,(function(r){switch(r.label){case 0:return t=this.client.getBaseRoute()+"/graphql",n={query:e},[4,this.client.doFetch(t,{method:"POST",body:JSON.stringify(n)})];case 1:return[2,r.sent()]}}))}))},e.prototype.insert=function(e,t){return C(this,void 0,void 0,(function(){var n,r,o;return I(this,(function(i){switch(i.label){case 0:return n=this.client.getBaseRoute()+"/graphql",r=t,x.default.isString(r)||(r=JSON.stringify(t)),o={query:"mutation {\n                "+e+"__insert(data:"+r+")\n            }"},console.log("insert body",o),[4,this.client.doFetch(n,{method:"POST",body:JSON.stringify(o)})];case 1:return[2,i.sent()]}}))}))},e.prototype.update=function(e,t,n){return C(this,void 0,void 0,(function(){var r,o,i;return I(this,(function(a){switch(a.label){case 0:return r=this.client.getBaseRoute()+"/graphql",o=n,x.default.isString(o)||(o=JSON.stringify(n)),i={query:"mutation {\n                "+e+'__update(_id:"'+t+'", data:'+o+")\n            }"},[4,this.client.doFetch(r,{method:"POST",body:JSON.stringify(i)})];case 1:return[2,a.sent()]}}))}))},e.prototype.delete=function(e,t){return C(this,void 0,void 0,(function(){var n,r;return I(this,(function(o){switch(o.label){case 0:return n=this.client.getBaseRoute()+"/graphql",r={query:"mutation {\n                "+e+'__delete(_id:"'+t+'")\n            }'},[4,this.client.doFetch(n,{method:"POST",body:JSON.stringify(r)})];case 1:return[2,o.sent()]}}))}))},e}(),T=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=function(){return(k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},F=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function c(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}l((r=r.apply(e,t||[])).next())}))},N=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},R=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},B=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},M="X-Cluster-Id",L="X-Version-Id",D=function(){function e(){var e=this;this.LOGIN_TOKEN_KEY="Meteor.loginToken",this.LOGIN_TOKEN_EXPIRES_KEY="Meteor.loginTokenExpires",this.USER_ID_KEY="Meteor.userId",this.logToConsole=!1,this._lastLoginTokenWhenPolled=null,this.loginExpirationInDays=null,this.serverVersion="",this.clusterId="",this.token="",this.spaceId="",this.authToken="",this.csrf="",this.url="",this.urlVersion="",this.userAgent=null,this.enableLogging=!1,this.defaultHeaders={"Content-Type":"application/json"},this.userId="",this.diagnosticId="",this.includeCookies=!0,this.isRudderKeySet=!1,this.translations={connectionError:"There appears to be a problem with your internet connection.",unknownError:"We received an unexpected status code from the server."},this.sobjects={},this.graphql=new P(this),this.getTranslations=function(t){return e.doFetch(t,{method:"get"})},this.logClientError=function(e,t){void 0===t&&(t="ERROR")},this.login=function(t,n,r,o){void 0===r&&(r=""),void 0===o&&(o=""),e.trackEvent("api","api_users_login");var i={device_id:o,user:t,password:n,token:r,locale:"zh-cn"};return e.doFetch(e.getAccountsRoute()+"/password/login",{method:"POST",body:JSON.stringify(i)})},this.createUser=function(t,n,r,o){e.trackEvent("api","api_users_createUser");var i={};return n&&(i.t=n),r&&(i.iid=r),o&&(i.r=o),e.doFetch(e.getAccountsRoute()+"/password/register"+O(i),{method:"POST",body:JSON.stringify(t)})},this.createSpace=function(t){e.trackEvent("api","api_users_createTenant");return e.doFetch(e.getBaseRoute()+"/api/v4/spaces/register/tenant"+O({}),{method:"POST",body:JSON.stringify({name:t})})},this.sendVerificationToken=function(t){e.trackEvent("api","api_users_verify");var n={user:t};return e.doFetch(e.getAccountsRoute()+"/password/sendVerificationCode",{method:"POST",body:JSON.stringify(n)})},this.getSettings=function(){return e.doFetch(e.getAccountsRoute()+"/settings",{method:"get"})},this.getMe=function(){return e.doFetch(e.getAccountsRoute()+"/user",{method:"get"})},this.getMySpaces=function(){return e.doFetch(e.getAccountsRoute()+"/user/spaces",{method:"get"})},this.logout=function(){return F(e,void 0,void 0,(function(){var e;return N(this,(function(t){switch(t.label){case 0:return this.trackEvent("api","api_users_logout"),[4,this.doFetchWithResponse(this.getAccountsRoute()+"/logout",{method:"post"})];case 1:return(e=t.sent().response).ok&&(this.token=""),this.serverVersion="",[2,e]}}))}))},this.doFetch=function(t,n){return F(e,void 0,void 0,(function(){return N(this,(function(e){switch(e.label){case 0:return[4,this.doFetchWithResponse(t,n)];case 1:return[2,e.sent().data]}}))}))},this.doFetchWithResponse=function(t,n){return F(e,void 0,void 0,(function(){var e,r,o,i,a,c,l;return N(this,(function(s){switch(s.label){case 0:return[4,A(t,this.getOptions(n))];case 1:e=s.sent(),r=function(e){var t=new Map,n=new Map;return e.forEach((function(e,r){var o=r.replace(/\b[a-z]/g,(function(e){return e.toUpperCase()})),i=e;if(e&&e.match(/\n\S+:\s\S+/)){var a=e.split("\n");i=a.shift();var c=new Map(a.map((function(e){return e.split(/:\s/)})));n=new Map(B(B([],R(n)),R(c)))}t.set(o,i)})),new Map(B(B([],R(t)),R(n)))}(e.headers),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,e.json()];case 3:return o=s.sent(),[3,5];case 4:throw s.sent(),new U(this.getUrl(),{message:"Received invalid response from the server.",intl:{id:"mobile.request.invalid_response",defaultMessage:"Received invalid response from the server."},url:t});case 5:if(r.has(L)&&!r.get("Cache-Control")&&(i=r.get(L))&&this.serverVersion!==i&&(this.serverVersion=i),r.has(M)&&(a=r.get(M))&&this.clusterId!==a&&(this.clusterId=a),e.ok)return[2,{response:e,headers:r,data:o}];throw c=o&&o.error?o.error:o,l=c.message||"",this.logToConsole&&console.error(l),new U(this.getUrl(),{message:l,server_error_id:o.id,status_code:c.code,url:t})}}))}))},this.changePassword=function(t,n){return e.doFetch(e.getAccountsRoute()+"/password/changePassword",{method:"POST",body:JSON.stringify({oldPassword:t,newPassword:n})})},this.verifyEmail=function(t,n){return e.doFetch(e.getAccountsRoute()+"/password/verify/email",{method:"POST",body:JSON.stringify({email:t,code:n})})},this.verifyMobile=function(t,n){return e.doFetch(e.getAccountsRoute()+"/password/verify/mobile",{method:"POST",body:JSON.stringify({mobile:t,code:n})})},this.sobject=function(e){return this.sobjects=this.sobjects||{},this.sobjects[e]=this.sobjects[e]||new S(this,e)}}return e.prototype.getUrl=function(){if(!this.url){var e=new URL(window.location.href).pathname.split("/accounts"),t="";return e.length>1&&(t=e[0]),t}return this.url},e.prototype.getAbsoluteUrl=function(e){return"string"===typeof e&&e.startsWith("/")?this.getUrl()+e:e},e.prototype.setUrl=function(e){this.url=e},e.prototype.setUserAgent=function(e){this.userAgent=e},e.prototype.getToken=function(){return this.token},e.prototype.setToken=function(e){this.token=e},e.prototype.getUserId=function(){return this.userId},e.prototype.getSpaceId=function(){return this.spaceId},e.prototype.setSpaceId=function(e){this.spaceId=e},e.prototype.getAuthToken=function(){return this.getSpaceId()&&this.getToken()?this.getSpaceId()+","+this.getToken():this.getToken()},e.prototype.setCSRF=function(e){this.csrf=e},e.prototype.setAcceptLanguage=function(e){this.defaultHeaders["Accept-Language"]=e},e.prototype.setEnableLogging=function(e){this.enableLogging=e},e.prototype.setIncludeCookies=function(e){this.includeCookies=e},e.prototype.setUserId=function(e){this.userId=e},e.prototype.setUserRoles=function(e){this.userRoles=e},e.prototype.setDiagnosticId=function(e){this.diagnosticId=e},e.prototype.enableRudderEvents=function(){this.isRudderKeySet=!0},e.prototype.getServerVersion=function(){return this.serverVersion},e.prototype.getUrlVersion=function(){return this.urlVersion},e.prototype.getBaseRoute=function(){return""+this.getUrl()+this.urlVersion},e.prototype.getAccountsRoute=function(){return this.getBaseRoute()+"/accounts"},e.prototype.getBootstrapRoute=function(){return this.getUrl()+"/api/bootstrap/"+this.getSpaceId()},e.prototype.getCSRFFromCookie=function(){if("undefined"!==typeof document&&"undefined"!==typeof document.cookie)for(var e=document.cookie.split(";"),t=0;t<e.length;t++){var n=e[t].trim();if(n.startsWith("MMCSRF="))return n.replace("MMCSRF=","")}return""},e.prototype.getOptions=function(e){var t,n=k({},e),r=k(((t={})["X-Requested-With"]="XMLHttpRequest",t),this.defaultHeaders);this.getAuthToken()&&(r.Authorization="Bearer "+this.getAuthToken());var o=this.csrf||this.getCSRFFromCookie();return e.method&&"get"!==e.method.toLowerCase()&&o&&(r["X-CSRF-Token"]=o),this.includeCookies&&(n.credentials="include"),this.userAgent&&(r["User-Agent"]=this.userAgent),n.headers&&Object.assign(r,n.headers),k(k({},n),{headers:r})},e.prototype.trackEvent=function(e,t,n){if(this.isRudderKeySet)Object.assign({category:e,type:t,user_actual_id:this.userId},n)},e}();var U=function(e){function t(t,n){var r=e.call(this,n.message+": "+function(e,t){var n=t,r=(n=n.substring(e.length)).indexOf("?");-1!==r&&(n=n.substring(0,r));var o=["api","v4","users","teams","scheme","name","members","channels","posts","reactions","commands","files","preferences","hooks","incoming","outgoing","oauth","apps","emoji","brand","image","data_retention","jobs","plugins","roles","system","timezones","schemes","redirect_location","patch","mfa","password","reset","send","active","verify","terms_of_service","login","logout","ids","usernames","me","username","email","default","sessions","revoke","all","audits","device","status","search","switch","authorized","authorize","deauthorize","tokens","disable","enable","exists","unread","invite","batch","stats","import","schemeRoles","direct","group","convert","view","search_autocomplete","thread","info","flagged","pinned","pin","unpin","opengraph","actions","thumbnail","preview","link","delete","logs","ping","config","client","license","websocket","webrtc","token","regen_token","autocomplete","execute","regen_secret","policy","type","cancel","reload","environment","s3_test","file","caches","invalidate","database","recycle","compliance","reports","cluster","ldap","test","sync","saml","certificate","public","private","idp","elasticsearch","purge_indexes","analytics","old","webapp","fake"];return n=n.split("/").map((function(e){return""!==e&&-1===o.indexOf(e)?"<filtered>":e})).join("/"),-1!==r&&(n+="?<filtered>"),n}(t,n.url||""))||this;return r.message=n.message,r.url=n.url,r.intl=n.intl,r.server_error_id=n.server_error_id,r.status_code=n.status_code,Object.defineProperty(r,"message",{enumerable:!0}),r}return T(t,e),t}(Error),z=n(635),W="/",q=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}),V=localStorage.getItem("steedos:spaceId"),J=localStorage.getItem("steedos:userId"),K=localStorage.getItem("steedos:token"),G="zh_CN",Y=Object(f.get)(window,"steedos.setting",{});W=Y.rootUrl||W,V=Y.tenantId||V,J=Y.userId||J,K=Y.authToken||K,G=Y.locale||G,q=Y.env||q;var H=y.c.model("Settings",{isProd:true,rootUrl:W,tenantId:y.c.maybeNull(y.c.string),userId:y.c.maybeNull(y.c.string),authToken:y.c.maybeNull(y.c.string),locale:y.c.maybeNull(y.c.string),currentObjectApiName:y.c.maybeNull(y.c.string),currentRecordId:y.c.maybeNull(y.c.string),env:y.c.frozen()}).actions((function(e){return{setRootUrl:function(t){e.rootUrl=t},setTenantId:function(t){e.tenantId=t,t?localStorage.setItem("steedos:spaceId",t):localStorage.removeItem("steedos:spaceId")},setUserId:function(t){e.userId=t,t?localStorage.setItem("steedos:userId",t):localStorage.removeItem("steedos:userId")},setAuthToken:function(t){e.authToken=t,t?localStorage.setItem("steedos:token",t):localStorage.removeItem("steedos:token")},setLocale:function(t){e.locale=t},setCurrentObjectApiName:function(t){e.currentObjectApiName=t},setCurrentRecordId:function(t){e.currentRecordId=t}}})).create({rootUrl:W,tenantId:V,userId:J,authToken:K,locale:G,env:q}),Q=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function c(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}l((r=r.apply(e,t||[])).next())}))},$=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},X=new D;X.setUrl(H.rootUrl),X.setUserId(H.userId),X.setToken(H.authToken),X.setSpaceId(H.tenantId),Object(y.b)(H,(function(){X.setUrl(H.rootUrl),X.setUserId(H.userId),X.setToken(H.authToken),X.setSpaceId(H.tenantId)}));var Z={client:X,requestObject:function(e){return Q(void 0,void 0,void 0,(function(){var t;return $(this,(function(n){switch(n.label){case 0:return e?[4,X.sobject(e).getConfig()]:[2];case 1:return t=n.sent(),Object(z.a)(t),[2,t]}}))}))},requestRecordPermissions:function(e,t){return Q(void 0,void 0,void 0,(function(){return $(this,(function(n){switch(n.label){case 0:return e&&t?[4,X.sobject(e).getRecordPermissions(t)]:[2];case 1:return[2,n.sent()]}}))}))},requestRecords:function(e,t,n,r){return Q(void 0,void 0,void 0,(function(){return $(this,(function(o){switch(o.label){case 0:return[4,X.sobject(e).find(t,n,r)];case 1:return[2,o.sent()]}}))}))},updateRecord:function(e,t,n){return Q(void 0,void 0,void 0,(function(){return $(this,(function(r){switch(r.label){case 0:return[4,X.sobject(e).update(t,n)];case 1:return[2,r.sent()]}}))}))},insertRecord:function(e,t){return Q(void 0,void 0,void 0,(function(){return $(this,(function(n){switch(n.label){case 0:return[4,X.sobject(e).insert(t)];case 1:return[2,n.sent()]}}))}))},deleteRecord:function(e,t){return Q(void 0,void 0,void 0,(function(){return $(this,(function(n){switch(n.label){case 0:return[4,X.sobject(e).delete(t)];case 1:return[2,n.sent()]}}))}))}},ee=(y.c.model({id:y.c.identifier,name:y.c.string,required:y.c.boolean,readonly:y.c.boolean}),y.c.model({id:y.c.identifier,mode:y.c.union(y.c.string,y.c.undefined),value:y.c.frozen()}).actions((function(e){return{setMode:function(t){e.mode=t},setValue:function(t){e.value=t}}}))),te=y.c.model({items:y.c.optional(y.c.map(ee),{})}).actions((function(e){return{loadById:function(t){if(!t)return null;var n=e.items.get(t);if(n)return n;var r=ee.create({id:t,mode:"read"});return e.items.put(r),r}}})).create(),ne=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},re=y.c.model({id:y.c.identifier,objectApiName:y.c.string,fields:y.c.array(y.c.string),data:y.c.frozen(),permissions:y.c.frozen(),isLoading:!0}).actions((function(e){return{loadRecord:Object(y.a)((function(){var t,n,r,o;return ne(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),t=["_id","=",e.id],n=e,[4,Z.requestRecords(e.objectApiName,t,e.fields)];case 1:return n.data=i.sent(),r=e,[4,Z.requestRecordPermissions(e.objectApiName,e.id)];case 2:return r.permissions=i.sent(),e.isLoading=!1,[3,4];case 3:return o=i.sent(),console.error("Failed to load record "+e.id+" ",o),[3,4];case 4:return[2]}}))})),deleteRecord:Object(y.a)((function(){var t;return ne(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Z.deleteRecord(e.objectApiName,e.id)];case 1:return[2,n.sent()];case 2:return t=n.sent(),console.error("Failed to delete record "+e.id+" ",t),[3,3];case 3:return[2]}}))}))}})),oe=y.c.model({id:y.c.identifier,objectApiName:y.c.string,filters:y.c.string,fields:y.c.array(y.c.string),options:y.c.union(y.c.string,y.c.undefined),recordsJson:y.c.string,isLoading:!0}).views((function(e){return{get data(){return e.recordsJson?JSON.parse(e.recordsJson):null}}})).actions((function(e){return{loadRecords:Object(y.a)((function(){var t,n,r,o;return ne(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),t=JSON.parse(e.filters),n=e.options?JSON.parse(e.options):void 0,[4,Z.requestRecords(e.objectApiName,t,e.fields,n)];case 1:return r=i.sent(),e.recordsJson=JSON.stringify(r),e.isLoading=!1,[3,3];case 2:return o=i.sent(),console.error("Failed to load record "+e.id+" ",o),[3,3];case 3:return[2]}}))}))}})),ie=y.c.model({id:y.c.identifier,schema:y.c.frozen(),recordCaches:y.c.map(re),recordListCaches:y.c.map(oe),isLoading:!0}).actions((function(e){return{loadObject:Object(y.a)((function(){var t,n;return ne(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=e,[4,Z.requestObject(e.id)];case 1:return t.schema=r.sent(),e.isLoading=!1,window.Creator.Objects[e.id]=e.schema,[2,e];case 2:return n=r.sent(),console.error("Failed to load object "+e.id+" ",n),[3,3];case 3:return[2]}}))})),getRecord:function(t,n){if(!t)return null;var r=e.recordCaches.get(t);if(r)return r;var o=re.create({id:t,objectApiName:e.id,fields:n,data:{},isLoading:!0});return e.recordCaches.put(o),o.loadRecord(),o},deleteRecord:function(t){if(!t)return null;var n=e.recordCaches.get(t);n&&(n.deleteRecord(),e.recordCaches.delete(t))},getRecordList:function(t,n,r){var o=JSON.stringify(t),i=(JSON.stringify(n),r?JSON.stringify(r):""),a=o,c=e.recordListCaches.get(a);if(c)return c;var l=oe.create({id:a,objectApiName:e.id,filters:o,fields:n,options:i,recordsJson:"",isLoading:!0});return e.recordListCaches.put(l),l.loadRecords(),l}}})),ae=y.c.model({objects:y.c.optional(y.c.map(ie),{})}).actions((function(e){return{getObject:function(t){if(!t)return null;var n=e.objects.get(t);if(n)return n;var r=ie.create({id:t,schema:{},isLoading:!0});return e.objects.put(r),r.loadObject(),r}}})).create(),ce=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},le=y.c.model({id:y.c.identifier,name:y.c.maybeNull(y.c.string),path:y.c.maybeNull(y.c.string),icon:y.c.maybeNull(y.c.string),target:y.c.maybeNull(y.c.string),description:y.c.maybeNull(y.c.string),children:y.c.frozen()}),se=y.c.model({menus:y.c.optional(y.c.map(le),{}),currentAppId:y.c.maybeNull(y.c.string),currentApp:y.c.maybeNull(le)}).actions((function(e){var t=Object(y.a)((function(){var t;return ce(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Z.client.doFetch(Z.client.getUrl()+"/service/api/apps/menus",{method:"get"})];case 1:return function(t){p.a.each(t,(function(t){e.menus.put(t)}))}(n.sent()),[2,e.menus];case 2:return t=n.sent(),console.error("Failed to fetch apps/menus",t),[3,3];case 3:return[2]}}))}));var n=function(){if(e.menus&&e.menus.size)return e.menus;t();return e.menus};return{getMenus:n,getCurrentApp:function(){var t=n(),r=t.get(e.currentAppId);return r||t.size>0&&((r=t.get(e.currentAppId))||(r=t.get(p.a.keys(t.toJSON())[0]))),r},setCurrentAppId:function(t){e.currentAppId=t}}})).create(),ue=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},de=y.c.model({me:y.c.maybeNull(y.c.frozen()),isLoading:!1,isLoginFailed:!1}).actions((function(e){var t=function(t){e.me=t},n=function(){H.setUserId(null),H.setAuthToken(null)},r=Object(y.a)((function(){var n,r;return ue(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),e.isLoading=!0,Z.client.setSpaceId(null),[4,Z.client.getMe()];case 1:return n=o.sent(),H.setUserId(n._id),n.spaces.length>0&&(Z.client.setSpaceId(n.spaces[0]._id),H.setTenantId(n.spaces[0]._id)),t(n),e.isLoading=!1,e.isLoginFailed=!1,[2,n];case 2:return r=o.sent(),e.isLoading=!1,e.isLoginFailed=!0,t(null),console.error("Failed to fetch userinfo",r),[2,null];case 3:return[2]}}))}));return{loadMe:r,getMe:function(){return e.me||e.isLoginFailed||r(),e.me},login:Object(y.a)((function(t,r){var o,i,a,c,l,s,u;return ue(this,(function(d){switch(d.label){case 0:e.isLoading=!0,o="",i="",a="",t&&(t.indexOf("@")>0?o=t:11===t.length&&new Number(t)>1e10?i=t:a=t),c={email:o,mobile:i,username:a,spaceId:""},d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Z.client.login(c,r)];case 2:return(l=d.sent()).token&&(Z.client.setToken(l.token),H.setAuthToken(l.token)),s=de.loadMe(),e.isLoading=!1,e.isLoginFailed=!1,[2,s];case 3:return u=d.sent(),e.isLoading=!1,e.isLoginFailed=!0,console.error("Failed to fetch userinfo",u),n(),[3,4];case 4:return[2]}}))})),logout:Object(y.a)((function(){var e;return ue(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Z.client.logout()];case 1:return r.sent(),t(null),H.setUserId(null),H.setAuthToken(null),H.setTenantId(null),n(),[3,3];case 2:return e=r.sent(),console.error("Failed to fetch userinfo",e),n(),[3,3];case 3:return[2]}}))})),afterCreate:function(){}}})).create(),fe=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},pe=y.c.model({id:y.c.identifier,isLoading:!0,data:y.c.frozen()}).actions((function(e){return{loadData:Object(y.a)((function(t){var n,r,o,i;return fe(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Z.client.doFetch(Z.client.getUrl()+"/service/api/~packages-@steedos/service-charts/queries/"+t+"/results",{method:"post"})];case 1:return n=a.sent(),r={columns:[],rows:n},o=[],p.a.each(n,(function(e){o=p.a.union(p.a.concat(o,p.a.keys(e)))})),p.a.each(o,(function(e){r.columns.push({type:"",name:e})})),e.data=r,e.isLoading=!1,[3,3];case 2:return i=a.sent(),console.error("Failed to fetch apps/menus",i),[3,3];case 3:return[2]}}))}))}})),he=y.c.model({Queries:y.c.optional(y.c.map(pe),{})}).actions((function(e){return{getData:function(t){if(!t)return null;var n=e.Queries.get(t);if(n)return n;var r=pe.create({id:t,data:[],isLoading:!0});return e.Queries.put(r),r.loadData(t),r}}})).create(),be={Forms:te,Objects:ae,Settings:H,API:Z,Apps:se,User:de,Queries:he};window.stores=be;window.Creator={},window.Creator.Objects={};var ve=function(){return(ve=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},me=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},ye=Object(m.a)((function(e){var t=e.name,n=void 0===t?"default":t,r=(e.mode,e.layout),o=e.children,i=e.submitter,a=e.isModalForm,c=e.isDrawerForm,l=e.trigger,s=me(e,["name","mode","layout","children","submitter","isModalForm","isDrawerForm","trigger"]),d=te.loadById(n),f="horizontal"===r?{labelAlign:"left",labelCol:{span:6},wrapperCol:{span:18}}:null,m="read"!==d.mode&&{searchConfig:{resetText:"\u53d6\u6d88",submitText:"\u63d0\u4ea4"},resetButtonProps:{onClick:function(){d.setMode("read")}}},y=!1;"read"!=d.mode&&(y=p.a.isBoolean(i)?i:i||m);var g=ve(ve(ve({name:n,className:"builder-form",mode:d.mode,layout:r},f),s),{submitter:y,trigger:l,contentRender:function(e,t){return Object(u.jsxs)(u.Fragment,{children:[e,t]},void 0)}}),j=h.a;return a&&(j=b.a),c&&(j=v.a),Object(u.jsx)(j,ve({},g,{children:o}),void 0)}));ye.propTypes={name:d.string,mode:d.string,layout:d.string,initialValues:d.object};var ge=n(64),je=n(1058),Ae=n(1059),Oe=n(90),we=n(507),xe=n(68),_e=(n(808),function(){return(_e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),Ee=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Se=Object(m.a)((function(e){var t=o.a.useContext(Oe.a),n=t.name?t.name:"default",r=e.attributes,i=e.readonly,a=(e.mode,e.valueType),c=e.isWide,l=void 0!==c&&c,s=e.showInlineIcon,d=void 0===s||s,f=e.formItemProps,p=void 0===f?{}:f,h=Ee(e,["attributes","readonly","mode","valueType","isWide","showInlineIcon","formItemProps"]),b=te.loadById(n).mode,v=_e(_e(_e({},r),p),{className:"field type-"+a+" mode-"+b});l?(v.style={gridColumn:"span 2/span 2"},t.vertical?(v.labelCol={span:4},v.wrapperCol={span:24}):(v.labelAlign="left",v.labelCol={span:3},v.wrapperCol={span:21})):t.vertical?(v.labelCol={span:4},v.wrapperCol={span:24}):(v.labelAlign="left",v.labelCol={span:6},v.wrapperCol={span:18});var y=Object(m.a)((function(e){var t=e.readonly,r=e.mode,o=e.fieldSchema,i=e.fieldProps,a=e.dependFieldValues,c=(e.proFieldProps,Ee(e,["readonly","mode","fieldSchema","fieldProps","dependFieldValues","proFieldProps"])),l=_e({emptyText:"",fieldProps:Object.assign({},i,{field_schema:o,depend_field_values:a})},c);if(!t&&"edit"===r)return Object(u.jsx)(ge.a,_e({mode:"edit"},l),void 0);var s=function(){te.loadById(n).setMode("edit")},f=t?Object(u.jsx)(xe.a,{iconCategory:"utility",iconName:"lock",iconSize:"small",iconVariant:"container",iconClassName:"slds-button__icon slds-button__icon_hint",variant:"icon"},void 0):Object(u.jsx)(xe.a,{iconCategory:"utility",iconName:"edit",iconSize:"small",iconVariant:"container",iconClassName:"slds-button__icon slds-button__icon_hint",variant:"icon",onClick:function(){s()}},void 0);return Object(u.jsxs)(je.a,_e({},{},{role:"group",onDoubleClick:function(){t||s()}},{children:[Object(u.jsx)(Ae.a,_e({flex:"1"},{children:Object(u.jsx)(ge.a,_e({mode:"read"},l),void 0)}),void 0),d&&Object(u.jsx)(Ae.a,_e({width:"16px"},{children:f}),void 0)]}),void 0)})),g=Object(we.a)((function(e){return Object(u.jsx)(y,_e({valueType:a},e,{mode:b,readonly:i}),void 0)}),{valueType:a});return Object(u.jsx)(g,_e({},h,{mode:b,formItemProps:v}),void 0)}));Se.propTypes={name:d.string,label:d.string,valueType:d.string};var Ce=n(1060),Ie=n(183),Pe=n(473),Te=function(){return(Te=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ke=Object(m.a)((function(e){var t=Object(Ie.a)(),n=(e.attributes,e.title),r=e.titleHidden,o=void 0!==r&&r,i=e.columns,a=void 0===i?"sm"===t||"xs"===t?1:2:i,c=e.children,l={templateColumns:["repeat(1, 1fr)","repeat("+a+", 1fr)"],gap:"0rem 2rem"};return o?Object(u.jsx)(Ce.a,Te({},l,{children:c}),void 0):Object(u.jsx)(Pe.a,Te({id:"default-expandable-section",title:n},{children:Object(u.jsx)(Ce.a,Te({},l,{children:c}),void 0)}),void 0)})),Fe=n(73);n(234);var Ne=n(489),Re=o.a.createContext({}),Be=n(124),Me=function(){return(Me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Le=function(){return(Le=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},De={href:{render:function(e,t){t.fieldProps;return Object(u.jsx)("a",Me({href:e},{children:e}),void 0)},renderFormItem:function(e,t){return Object(u.jsx)(Be.a,Me({placeholder:"\u8bf7\u8f93\u5165\u94fe\u63a5"},null===t||void 0===t?void 0:t.fieldProps),void 0)}},email:{render:function(e,t){t.fieldProps;var n="mailto:"+e;return Object(u.jsx)("a",Le({href:n},{children:e}),void 0)},renderFormItem:function(e,t){return Object(u.jsx)(Be.a,Le({placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1\u5730\u5740"},null===t||void 0===t?void 0:t.fieldProps),void 0)}}},Ue=n(26),ze=n(15),We=n(328),qe=n.n(We),Ve=n(666),Je=n.n(Ve),Ke=function(){return(Ke=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ge=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Ye(e){var t=e.locale,n=e.valueTypeMap,r=e.children,o={intl:Ke({},Qe(t)),valueTypeMap:Ke(Ke({},De),n)},i={locale:He(t)},a=tt(t);return Object(u.jsx)(Re.Provider,Ke({value:{intl:a,valueTypeMap:n}},{children:Object(u.jsx)(ze.default,Ke({},i,{children:Object(u.jsx)(Ue.default.Provider,Ke({value:o},{children:r}),void 0)}),void 0)}),void 0)}var He=function(e){switch(e){case"en_US":case"zh_CN":return qe.a;case"zh_TW":return Je.a;default:return qe.a}},Qe=function(e){switch(e){case"en_US":return Ue.enUSIntl;case"zh_CN":return Ue.zhCNIntl;case"zh_TW":return Ue.zhTWIntl;default:return Ue.zhCNIntl}};function $e(e,t,n){var r,o,i=t.replace(/\[(\d+)\]/g,".$1").split("."),a=e,c=n;try{for(var l=Ge(i),s=l.next();!s.done;s=l.next()){var u=s.value;if(c=Object(a)[u],a=Object(a)[u],void 0===c)return n}}catch(d){r={error:d}}finally{try{s&&!s.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}return c}var Xe=function(e,t){return{getMessage:function(n,r){var o=$e(t,n,r);return o||(o=Qe(e).getMessage(n,"")),o||(o=$e(He(e),n)),o||r},locale:e}},Ze=Xe("zh_CN",{form:{save:"\u4fdd\u5b58",cancel:"\u53d6\u6d88"}}),et=Xe("en_US",{form:{save:"Save",cancel:"Cancel"}}),tt=function(e){switch(e){case"en_US":return et;case"zh_CN":case"zh_TW":default:return Ze}};var nt=n(604),rt=function(){return(rt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ot=Object(m.a)((function(e){var t=Object(r.useContext)(Oe.a),n=t.name?t.name:"default",o=(e.objectApiName,e.fieldName),i=e.fieldSchema,a=Object(Ie.a)();("sm"===a||"xs"===a)&&!e.disableMobile&&(i.is_wide=!0);var c=te.loadById(n).mode,l={name:o,mode:c,label:i.label?i.label:o,placeholder:i.help,hidden:i.hidden,valueType:i.type,required:i.required,readonly:i.readonly,isWide:i.is_wide,fieldSchema:i};"edit"==c?i.omit&&(l.hidden=!0):"read"==c&&i.omit&&(l.readonly=!0),l.required&&(l.rules=[{required:!0,message:"\u8bf7\u8f93\u5165"+l.label+"..."}]);var s={colon:!1},d=i.depend_on?i.depend_on:[];return Object(u.jsx)(nt.a,rt({name:d},{children:function(e){return Object(u.jsx)(Se,rt({formItemProps:s,dependFieldValues:e},l),void 0)}}),void 0)})),it=n(177),at=(n(992),function(){return(at=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),ct=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function c(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}l((r=r.apply(e,t||[])).next())}))},lt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},st=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},ut=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object(m.a)((function(e){var t=e.objectApiName,n=void 0===t?H.currentObjectApiName:t,r=e.initialValues,o=void 0===r?{}:r,i=e.objectSchema,a=void 0===i?{}:i,c=e.recordId,l=void 0===c?H.currentRecordId:c,s=e.name,d=void 0===s?"default":s,f=e.mode,h=void 0===f?"edit":f,b=e.layout,v=void 0===b?"vertical":b,m=e.children,y=e.submitter,g=e.isModalForm,j=e.isDrawerForm,A=e.afterUpdate,O=e.afterInsert,w=e.trigger,x=e.visible,_=st(e,["objectApiName","initialValues","objectSchema","recordId","name","mode","layout","children","submitter","isModalForm","isDrawerForm","afterUpdate","afterInsert","trigger","visible"]),E=ut(Fe.default.useForm(),1)[0];te.loadById(d).setMode(h);var S=[],C=[];if(!n)return null;var I=ae.getObject(n);if(I.isLoading)return Object(u.jsx)("div",{children:Object(u.jsx)(it.a,{},void 0)},void 0);if(I.schema){var P=p.a.defaultsDeep({},I.schema,a);if(C.length=0,p.a.forEach(P.fields,(function(e,t){e.group&&"null"!=e.group&&"-"!=e.group||(e.group="\u901a\u7528");var n=/\w+\.\w+/.test(t);"grid"!=e.type&&"object"!=e.type||(e.is_wide=!0);var r=g&&["autonumber","formula","summary"].indexOf(e.type)>-1;e.hidden||n||r||C.push(p.a.defaults({name:t},e))})),p.a.forEach(C,(function(e){S.push(e.name)})),l){var T=I.getRecord(l,S);if(T.isLoading)return Object(u.jsx)("div",{children:Object(u.jsx)(it.a,{},void 0)},void 0);if(T.data&&T.data.value&&T.data.value.length>0){var k=T.data.value[0];p.a.forEach(S,(function(e){k[e]&&(o[e]=k[e])}))}}}return E.setFieldsValue(o),Object(u.jsxs)(ye,at({name:d,className:"builder-form object-form",initialValues:o,mode:h,form:E,layout:v,submitter:y,isModalForm:g,isDrawerForm:j,trigger:w,onFinish:function(e){return ct(void 0,void 0,void 0,(function(){var t;return lt(this,(function(r){switch(r.label){case 0:return l?[3,2]:[4,Z.insertRecord(n,e)];case 1:return t=r.sent(),O?[2,O(t)]:[2,!!t];case 2:return[4,Z.updateRecord(n,l,e)];case 3:return t=r.sent(),A?[2,A(t)]:[2,!!t];case 4:return[2]}}))}))},visible:x},_,{children:[m,function(){var e=p.a.groupBy(C,"group"),t=[],r=1==Object.keys(e).length?{titleHidden:!0}:{};return p.a.forEach(e,(function(e,o){t.push(function(e,t){var r=p.a.filter(C,{group:e}),o=g?2:void 0;return Object(u.jsx)(ke,at({title:e,columns:o},t,{children:p.a.map(r,(function(e){var t={key:e.name,name:e.name,objectApiName:n,fieldName:e.name,label:e.label,fieldSchema:e,mode:h};return Object(u.jsx)(ot,at({},t),void 0)}))}),e)}(o,r))})),t}()]}),void 0)})).propTypes={objectApiName:d.string,mode:d.string};n(994);var dt=function(){return(dt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ft=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function c(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}l((r=r.apply(e,t||[])).next())}))},pt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},ht=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},bt=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};var vt=Object(m.a)((function(e){var t=e.objectApiName,n=e.columnFields,o=void 0===n?[]:n,i=e.filters,a=e.sort,c=(e.defaultClassName,e.onChange),l=e.toolbar,s=e.search,d=ht(e,["objectApiName","columnFields","filters","sort","defaultClassName","onChange","toolbar","search"]),f=bt(Object(r.useState)(0),2),h=f[0],b=f[1],v=Object(Ie.a)(),m=("sm"===v||"xs"===v)&&!e.disableMobile,y=ae.getObject(t),g=Object(r.useRef)(null);if(y.isLoading)return Object(u.jsx)("div",{children:Object(u.jsx)(it.a,{},void 0)},void 0);var j={},A=[];y.schema&&y.schema.fields&&p.a.forEach(o,(function(e){var t=e.fieldName,n=ht(e,["fieldName"]),r={},o=function(e,t){var n,r;if(t){if("string"===typeof t&&t.length>0){var o=[];o=t.split(","),r=p.a.map(o,(function(e,t){return e.indexOf(" ")?o[t]=e.split(" "):o[t]=[e]}))}else r=t;r.length>0&&p.a.forEach(r,(function(t){t[0]===e&&(n="desc"===t[1]?"descend":"ascend")}))}return n}(t,a);o&&(r.defaultSortOrder=o,j[t]=o);var i=function(e,t){if(!e)return null;var n=e.type,r={title:e.label,dataIndex:e.name,formItemProps:{},fieldProps:{field_schema:e}};return e.required&&(r.formItemProps.required=!0),e.sortable&&(r.sorter={multiple:1}),r.valueType=n,t&&(r=Object.assign({},r,t)),r}(y.schema.fields[t],r);i&&A.push(dt(dt({},i),n))}));var O={filterType:"light"};m&&(O=!1);var x=s||O,_={subTitle:h+" \u4e2a\u9879\u76ee"};m&&(_.settings=!1);var E=Object.assign({},_,l);return Object(u.jsx)(Ne.a,dt({request:function(e,t,n){return ft(void 0,void 0,void 0,(function(){var n,r,o,i,a,c,l,s,u,d;return pt(this,(function(f){switch(f.label){case 0:return e.current,e.pageSize,n=ht(e,["current","pageSize"]),r=[],[],i=n.__objectApiName,a=n.__columnFields,c=n.__defaultFilters,l=ht(n,["__objectApiName","__columnFields","__defaultFilters"]),o=Object.keys(l).map((function(e){var t,r=y.schema.fields[e];return[e,(t=r&&r.type,["textarea","text","code"].includes(t)?"contains":"="),n[e]]})),c&&c.length?o&&o.length?p.a.isArray(c)?r=[c,o]:(s=Object(w.formatFiltersToODataQuery)(o),r="("+c+") and ("+s+")"):r=c:r=o,u=a.map((function(e){return e.fieldName})),p.a.isEmpty(t)&&!p.a.isEmpty(j)&&(t=j),[4,Z.requestRecords(i,r,u,{pageSize:e.pageSize,current:e.current,sort:t?Object.keys(t).map((function(e){return[e,"ascend"==t[e]?"asc":"desc"]})):[]})];case 1:return d=f.sent(),b(d["@odata.count"]),[2,{data:d.value,success:!0,total:d["@odata.count"]}]}}))}))},columns:A,rowKey:d.rowKey||"_id",rowSelection:d.rowSelection||{onChange:c},pagination:dt(dt({},d.pagination),{hideOnSinglePage:!0}),columnEmptyText:!1,actionRef:d.actionRef||g,onChange:function(){(d.actionRef||g).current.reload()},params:{__objectApiName:t,__columnFields:o,__defaultFilters:i},search:x,toolbar:E,size:"small",className:["object-table",d.className].join(" ")},d),void 0)})),mt=n(689),yt=n(1068),gt=(n(996),function(){return(gt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),jt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function c(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}l((r=r.apply(e,t||[])).next())}))},At=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},Ot=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},wt=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},xt=Object(m.a)((function(e){e.name;var t=e.objectApiName,n=e.nameField,o=e.parentField,i=(e.releatedColumnField,e.rootNodeValue),a=e.filters,c=e.checkable,l=e.onChange,s=Ot(e,["name","objectApiName","nameField","parentField","releatedColumnField","rootNodeValue","filters","checkable","onChange"]);void 0==c&&(c=!0);var d=ae.getObject(t),f=wt(Object(r.useState)([]),2),p=f[0],h=f[1],b=wt(Object(r.useState)([]),2),v=b[0],m=b[1],y=Object(yt.a)([t+"_records",n,o,i,a,c],(function(){return jt(void 0,void 0,void 0,(function(){var e;return At(this,(function(r){switch(r.label){case 0:return e=[n,o],[4,Z.requestRecords(t,a,e)];case 1:return[2,r.sent()]}}))}))}),{enabled:!d.isLoading}).data;return Object(r.useEffect)((function(){if(y){var e=[],t=[],r={},a=i;y.value.forEach((function(i){var c=i._id,l=Ot(i,["_id"]),s=l[o||"parent"];r[c]=gt(gt({value:c,key:c,title:i[n||"name"],children:[],_id:c},l),r[c]||{}),t.push(c),s?r[s]?r[s].children.push(r[c]):r[s]={children:[r[c]]}:s||(e=[r[c]],a=c)})),a&&(e=r[a]&&[r[a]]||[]),h(e),m([a])}}),[y]),d.isLoading?Object(u.jsx)("div",{children:"Loading object ..."},void 0):Object(u.jsx)(mt.a,gt({style:{width:"100%"},expandedKeys:v,treeData:p,onExpand:function(e,t){t.expanded,t.node;m(e)},onSelect:function(e,t){var n=t.selectedNodes;l&&l(n)}},s),void 0)})),_t=n(1070),Et=n(198),St=(n(998),function(){return(St=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),Ct=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function c(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}l((r=r.apply(e,t||[])).next())}))},It=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},Pt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Tt=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},kt=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},Ft=Object(m.a)((function(e){e.name;var t=e.objectApiName,n=e.nameField,o=e.filters,i=e.checkable,a=e.onChange,c=Pt(e,["name","objectApiName","nameField","filters","checkable","onChange"]);t=t;var l=Object(yt.a)(t+"_schema",(function(){return Ct(void 0,void 0,void 0,(function(){return It(this,(function(e){switch(e.label){case 0:return[4,Z.requestObject(t)];case 1:return[2,e.sent()]}}))}))})),s=(l.isLoading,l.error,l.data),d=(l.isFetching,Tt(Object(r.useState)([]),2)),f=d[0],p=d[1],h=Tt(Object(r.useState)([]),2),b=h[0],v=h[1],m=Object(yt.a)([t+"_records",n,o,i],(function(){return Ct(void 0,void 0,void 0,(function(){var e;return It(this,(function(n){switch(n.label){case 0:return e=Object.values(s.fields).filter((function(e){return!e.hidden})).map((function(e){return e.name})),[4,Z.requestRecords(t,o,e)];case 1:return[2,n.sent()]}}))}))}),{enabled:!!s}).data;Object(r.useEffect)((function(){m&&p(m.value)}),[m]);return Object(u.jsx)(_t.b,St({style:{width:"100%"},dataSource:f,itemLayout:"vertical",renderItem:function(e){return Object(u.jsxs)(_t.b.Item,St({onClick:function(t){!function(e){var t=kt([],Tt(b)),n=t.findIndex((function(t){return t._id==e._id}));n>=0?t.splice(n,1):i?t.push(e):t=[e],v(t),a&&a(t)}(e)},className:"object-list-item "+(b.some((function(t){return t._id==e._id}))?"selected":"")},{children:[i?Object(u.jsx)(Et.a,{checked:b.some((function(t){return t._id==e._id}))},void 0):Object(u.jsx)(u.Fragment,{},void 0),e[n]]}),void 0)}},c),void 0)})),Nt=n(189),Rt=(n(1e3),function(){return(Rt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),Bt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Mt=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Lt=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};var Dt=Object(m.a)((function(e){e.name;var t=e.onChange,n=Bt(e,["name","onChange"]),o=Mt(Object(r.useState)([]),2),i=(o[0],o[1],Mt(Object(r.useState)([]),2)),a=i[0],c=i[1],l=function(e){var t,n=[];e.forEach((function(e){var t=e._id;n=Lt(Lt([],Mt(n)),[t])})),n=p.a.uniq(n),c(n),null===(t=s.current)||void 0===t||t.reload()},s=Object(r.useRef)();Object(r.useEffect)((function(){var e;null===(e=s.current)||void 0===e||e.reload()}),[s.current]);var d,f,h=Mt(Object(r.useState)(null),2),b=h[0],v=h[1];return Object(r.useEffect)((function(){var t=e.columnFields.find((function(e){var t=e.expandType,n=e.expandReference,r=e.expandNameField,o=e.expandParentField,i=e.fieldName;if(t)return{expandType:t,expandReference:n,expandNameField:r,expandParentField:o,fieldName:i}}));v(t&&{type:t.expandType,objectApiName:t.expandReference,nameField:t.expandNameField,parentField:t.expandParentField,releatedColumnField:t.fieldName})}),[e.columnFields]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(Nt.a,Rt({split:"vertical",className:["object-expand-table",n.className].join(" ")},{children:[b&&b.type&&Object(u.jsxs)(Nt.a,Rt({colSpan:"30%",className:"expand-part"},{children:["tree"==b.type&&Object(u.jsx)(xt,Rt({},b,{onChange:l}),void 0),"list"==b.type&&Object(u.jsx)(Ft,Rt({},function(){b.parentField,b.releatedColumnField;return Bt(b,["parentField","releatedColumnField"])}(),{onChange:l}),void 0)]}),void 0),Object(u.jsx)(Nt.a,Rt({className:"table-part",ghost:!0},{children:Object(u.jsx)(vt,Rt({},n,{filters:b&&(d=a.length>0?a:[],f=b.releatedColumnField,d.map((function(e){return"contains("+(f||"_id")+",'"+e+"')"})).join(" or ")),actionRef:s,onChange:function(e,n){t&&t(n)}}),void 0)}),void 0)]}),void 0)},void 0)})),Ut=(n(691),n(166)),zt=n(67),Wt=(n(1065),Ut.a.Option,n(496));function qt(e,t){return""+("/app/"+se.currentAppId+"/"+e+"/view/")+t}var Vt=function(e,t,n){void 0===e&&(e=[]),void 0===t&&(t="name"),void 0===n&&(n="parent");var r,o,i=[],a=function(n){var r=[];return e.forEach((function(e){if(e.parent===n){var o={title:e[t],value:e._id},i=a(e._id);i&&i.length&&(o.children=i),r.push(o)}})),r};return e.forEach((function(c){(o=function(o){var i=!(r=o[n]);i||e.find((function(e){return e._id===r}));if(i){var c={title:o[t],value:o._id},l=a(o._id);return l&&l.length&&(c.children=l),c}}(c))&&i.push(o)})),i},Jt=function(){return(Jt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Kt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object(m.a)((function(e){var t=e.objectApiName,n=e.listName,r=void 0===n?"all":n,o=Kt(e,["objectApiName","listName"]),i=ae.getObject(t);if(i.isLoading)return Object(u.jsx)("div",{children:"Loading object ..."},void 0);var a=i.schema,c=a.list_views[r],l=function(e,t,n){var r=t.columnFields,o=void 0===r?[]:r,i=t.master;return 0===o.length&&p.a.forEach(e,(function(e){var r=p.a.isObject(e)?e.field:e,i={fieldName:r};r===n&&(i.render=function(e,n){return Object(u.jsx)(Wt.a,Jt({to:qt(t.objectApiName,n._id),className:"text-blue-600 hover:text-blue-500 hover:underline"},{children:e}),void 0)}),o.push(i)})),i?p.a.filter(o,(function(e){return p.a.isString(e)?e!=i.relatedFieldApiName:e.fieldName!=i.relatedFieldApiName})):o}(function(e,t){var n=e.list_views[t],r=n&&n.columns;return r||(r=(n=e.list_views.default)&&n.columns)||(r=[e.NAME_FIELD_KEY]),r}(a,r),e,a.NAME_FIELD_KEY),s=function(e,t){var n=t.filters,r=t.filter_scope,o=t.master;if(n||(n=e.filters),p.a.isFunction(n))try{n=n()}catch(a){console.warn("list view filter error: ",a)}if(n=p.a.isFunction(n)?[]:n,r||(r=e.filter_scope),"mine"===r){var i=[["owner","=",Z.client.getUserId()]];n=n&&n.length?[i,n]:i}return o&&(n=[[o.relatedFieldApiName,"=",o.recordId],n]),n}(c,e);return Object(u.jsx)(vt,Jt({objectApiName:t,columnFields:l,filters:s},o),void 0)}));var Gt=function(){return(Gt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Yt=(Object(m.a)((function(e){return Object(u.jsx)("iframe",Gt({},e),void 0)})),n(479)),Ht=n(686),Qt=n(692),$t=n(491),Xt=n(167),Zt=function(){return(Zt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},en=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},tn=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},nn=function(e){var t=e.value,n=e.valueType,r=void 0===n?"text":n,o=e.fieldSchema;return Object(u.jsx)(ge.a,{mode:"read",valueType:r,fieldProps:{field_schema:o},text:t,emptyText:""},void 0)},rn=Object(r.forwardRef)((function(e,t){var n=e.valueType,o=void 0===n?"text":n,i=e.fieldSchema,a=tn(Object(r.useState)(e.value),2),c=a[0],l=a[1];return Object(r.useImperativeHandle)(t,(function(){return{getValue:function(){return c},isPopup:function(){return!0}}})),Object(u.jsx)("section",Zt({className:"slds-popover slds-popover slds-popover_edit",role:"dialog"},{children:Object(u.jsx)("div",Zt({className:"slds-popover__body"},{children:Object(u.jsx)(ge.a,{mode:"edit",valueType:o,value:c,onChange:function(e){var t,n;(null===(t=null===e||void 0===e?void 0:e.currentTarget)||void 0===t?void 0:t.value)?l(null===(n=null===e||void 0===e?void 0:e.currentTarget)||void 0===n?void 0:n.value):l(e)},fieldProps:{field_schema:i}},void 0)}),void 0)}),void 0)}));var on=function(e){return Object(u.jsx)(Xt.a,{assistiveText:{icon:"Options"},iconCategory:"utility",iconName:"down",iconVariant:"border-filled",iconSize:"x-small",width:"x-small",menuPosition:"overflowBoundaryElement",onSelect:function(e){e.value},options:[{label:"\u5220\u9664",value:"delete"}]},void 0)},an=(Object(m.a)((function(e){var t=e.objectApiName,n=e.columnFields,o=void 0===n?[]:n,i=(e.filters,e.sort,e.defaultClassName,e.onChange,e.toolbar,en(e,["objectApiName","columnFields","filters","sort","defaultClassName","onChange","toolbar"]),tn(Object(r.useState)(0),2)),a=(i[0],i[1],Object(Ie.a)()),c=(("sm"===a||"xs"===a)&&e.disableMobile,ae.getObject(t));if(c.isLoading)return Object(u.jsx)("div",{children:Object(u.jsx)(it.a,{},void 0)},void 0);return Object(u.jsx)("div",Zt({className:"ag-theme-balham"},{children:Object(u.jsx)(Yt.AgGridReact,{columnDefs:function(){var e=[{resizable:!1,width:35,maxWidth:35,minWidth:35,checkboxSelection:!0}];return p.a.forEach(o,(function(t){var n=t.fieldName,r=(en(t,["fieldName"]),c.schema.fields[n]);e.push({field:n,headerName:r.label?r.label:n,width:r.is_wide?300:150,minWidth:r.is_wide?300:150,resizable:!0,filter:!0,cellRenderer:"proFieldRenderer",cellRendererParams:{fieldSchema:r,valueType:r.type},cellEditor:"proFieldEditor",cellEditorParams:{fieldSchema:r,valueType:r.type},editable:!r.readonly})})),e.push({width:50,maxWidth:50,minWidth:50,resizable:!1,cellRenderer:"rowActions",cellEditor:"rowActions"}),e}(),rowModelType:"serverSide",pagination:!0,paginationPageSize:50,rowSelection:"multiple",modules:[Ht.a,Qt.a,$t.a],stopEditingWhenGridLosesFocus:!0,serverSideDatasource:{getRows:function(e){console.log(e);var n=["name"];p.a.forEach(o,(function(e){var t=e.fieldName;en(e,["fieldName"]),n.push(t)})),Z.requestRecords(t,[],n,{}).then((function(t){e.success({rowData:t.value})}))}},frameworkComponents:{proFieldRenderer:nn,proFieldEditor:rn,rowActions:on}},void 0)}),void 0)})),function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function c(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}l((r=r.apply(e,t||[])).next())}))}),cn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},ln=o.a.createContext({requestObject:function(e){return an(void 0,void 0,void 0,(function(){return cn(this,(function(t){throw new Error("requestObject "+e+" failed, you should impl this function in ObjectProvider.")}))}))},requestRecords:function(e,t,n,r){return an(void 0,void 0,void 0,(function(){return cn(this,(function(t){throw new Error("requestRecords "+e+" failed, you should impl this function in ObjectProvider.")}))}))},updateRecord:function(e,t,n){return an(void 0,void 0,void 0,(function(){return cn(this,(function(n){throw new Error("submitForm "+e+" update id: "+t+" failed, you should impl this function in ObjectProvider.")}))}))},insertRecord:function(e,t){return an(void 0,void 0,void 0,(function(){return cn(this,(function(t){throw new Error("submitForm "+e+" add record failed, you should impl this function in ObjectProvider.")}))}))}}),sn=n(1066),un=n(667),dn=n(1069),fn=function(){return(fn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},pn={render:function(e,t){return e?Object(u.jsx)(dn.a,{},void 0):Object(u.jsx)("span",{},void 0)},renderFormItem:function(e,t){return Object(u.jsx)(ge.a,fn({mode:"edit",valueType:"switch"},t),void 0)}},hn=function(){return(hn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},bn={render:function(e,t){return Object(u.jsx)(ge.a,hn({mode:"read",valueType:"digit"},t),void 0)},renderFormItem:function(e,t){return Object(u.jsx)(ge.a,hn({mode:"edit",valueType:"digit"},t),void 0)}},vn=function(){return(vn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},mn={render:function(e,t){return Object(u.jsx)(ge.a,vn({mode:"read",valueType:"dateTime"},t),void 0)},renderFormItem:function(e,t){return Object(u.jsx)(ge.a,vn({mode:"edit",valueType:"dateTime"},t),void 0)}},yn=function(){return(yn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},gn={render:function(e,t){t.fieldProps;var n="mailto:"+e;return Object(u.jsx)("a",yn({href:n},{children:e}),void 0)},renderFormItem:function(e,t){return Object(u.jsx)(ge.a,yn({mode:"edit",valueType:"text"},t),void 0)}},jn=function(){return(jn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},An={render:function(e,t){return Object(u.jsx)(ge.a,jn({mode:"read",valueType:"digit"},t),void 0)},renderFormItem:function(e,t){return Object(u.jsx)(ge.a,jn({mode:"edit",valueType:"digit"},t),void 0)}},On=n(202),wn=n.n(On),xn=function(){return(xn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},_n={render:function(e,t){var n=Object(r.useMemo)((function(){return"string"===typeof e&&e.includes("%")?100*wn()(e.replace("%","")):100*wn()(e)}),[e]);return Object(u.jsxs)("span",{children:[n,"%"]},void 0)},renderFormItem:function(e,t){return Object(u.jsx)(ge.a,xn({mode:"edit",valueType:"digit"},t),void 0)}},En=n(110),Sn=function(){return(Sn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Cn=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function c(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}l((r=r.apply(e,t||[])).next())}))},In=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},Pn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Tn=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},kn={render:function(e,t){t.valueType,t.mode;var n,r=t.fieldProps,i=(Pn(t,["valueType","mode","fieldProps"]),r.field_schema),a=void 0===i?{}:i,c=r.depend_field_values,l=void 0===c?{}:c,s=a.optionsFunction?a.optionsFunction:a.options;s=p.a.isFunction(s)?s(l):s;var d=r.value||t.text;return n=p.a.filter(s,(function(e){return a.multiple?d.indexOf(e.value)>-1:e.value===d})),Object(u.jsx)(o.a.Fragment,{children:n.map((function(e,t){return Object(u.jsxs)(o.a.Fragment,{children:[t>0&&", ",e.label]},e.value)}))},void 0)},renderFormItem:function(e,t){var n=Tn(Object(r.useState)({open:!1,openTag:null}),2),o=n[0],i=n[1],a=t.fieldProps,c=void 0===a?{}:a,l=c.field_schema,s=void 0===l?{}:l,d=c.depend_field_values,f=void 0===d?{}:d,h=s.multiple,b=s.optionsFunction,v=b||s.options;h&&(c.mode="multiple");var m={};return p.a.isFunction(v)?m={request:function(e,t){return Cn(void 0,void 0,void 0,(function(){return In(this,(function(t){switch(t.label){case 0:return f.__keyWords=e.keyWords,[4,v(f)];case 1:return[2,t.sent()]}}))}))},params:o,onDropdownVisibleChange:function(e){e&&i({open:e,openTag:new Date})}}:t.fieldProps.options=v,m.showSearch=!0,m.optionFilterProp="label",Object(u.jsx)(En.b,Sn({mode:"edit"},t,m),void 0)}},Fn=function(){return(Fn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Nn={render:function(e,t){return e?Object(u.jsx)(dn.a,{},void 0):Object(u.jsx)("span",{},void 0)},renderFormItem:function(e,t){return Object(u.jsx)(ge.a,Fn({mode:"edit",valueType:"switch"},t),void 0)}},Rn=function(){return(Rn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Bn={render:function(e,t){t.fieldProps;return Object(u.jsx)("a",Rn({href:e},{children:e}),void 0)},renderFormItem:function(e,t){return Object(u.jsx)(Se,Rn({mode:"edit",type:"text"},t),void 0)}},Mn=n(1063),Ln=n(693),Dn=n(676),Un=n(694),zn=n(539),Wn=n(671),qn=n(672),Vn=n(688),Jn=n(108),Kn=n(288),Gn=n(289),Yn=n(290),Hn=n(291),Qn=n(111),$n=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xn=function(){return(Xn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={search:"",open:!1},t.onSearch=function(e){t.setState({search:e.target.value})},t.triggerOnClick=function(){t.setState({open:!t.state.open})},t.onClick=function(e,n){t.props.history&&("url"===e.type?t.props.history.push("/app/"+e.appApiName+"/frame/"+e.id,{src:e.path,title:e.name}):t.props.history.push(e.path)),t.setState({open:!1})},t.onClose=function(){t.setState({open:!1})},t}$n(t,e),t.prototype.render=function(){var e,t,n=this,r=Object(u.jsx)(Vn.a,{onChange:function(e){console.log("Search term:",e.target.value),n.onSearch(e)},placeholder:"\u641c\u7d22\u5e94\u7528\u7a0b\u5e8f\u6216\u9879\u76ee...",assistiveText:{label:"\u641c\u7d22\u5e94\u7528\u7a0b\u5e8f\u6216\u9879\u76ee..."}},void 0),o=(Object(u.jsx)(xe.a,{label:"App Exchange"},void 0),this.props),i=o.currentApp,a=o.apps;i||(i={}),a||(a=[]);var c=function(e){var t=[];return p.a.each(e,(function(e){p.a.each(e.children,(function(n){t.push(Object.assign({},n,{appApiName:e.id}))}))})),p.a.unionBy(t,"id")}(a);return Object(u.jsx)(Jn.b,Xn({actionSprite:Kn.a,standardSprite:Yn.a,customSprite:Gn.a,utilitySprite:Hn.a},{children:Object(u.jsx)(Wn.a,{children:Object(u.jsx)(qn.a,Xn({region:"primary"},{children:Object(u.jsxs)(Ln.a,Xn({title:"\u5e94\u7528\u7a0b\u5e8f\u542f\u52a8\u5668",triggerName:i.name,search:r,onClose:this.onClose,isOpen:this.state.open,triggerOnClick:this.triggerOnClick},{children:[Object(u.jsx)(zn.a,Xn({title:"\u6240\u6709\u5e94\u7528\u7a0b\u5e8f"},{children:null===(e=p.a.filter(a,(function(e){return e.name.indexOf(n.state.search)>-1})))||void 0===e?void 0:e.map((function(e,t){return Object(u.jsx)(Un.a,{description:e.description,iconNode:Object(u.jsx)(Qn.a,{assistiveText:{label:e.name},category:"standard",name:e.icon,size:"large"},void 0),search:n.state.search,title:e.name,onClick:function(t){return n.onClick(e,t)}},e.id)}))}),void 0),Object(u.jsx)("hr",{},void 0),Object(u.jsx)(zn.a,Xn({title:"\u6240\u6709\u9879\u76ee"},{children:null===(t=p.a.filter(c,(function(e){return e.name.indexOf(n.state.search)>-1})))||void 0===t?void 0:t.map((function(e,t){return Object(u.jsx)(Dn.a,Xn({search:n.state.search,onClick:function(t){return n.onClick(e,t)}},{children:e.name}),e.id)}))}),void 0)]}),void 0)}),void 0)},void 0)}),void 0)},t.displayName="Steedos App Launcher"}(o.a.Component);var Zn=n(541),er=n(329),tr=n(687),nr=n(248),rr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),or=function(){return(or=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ir=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}rr(t,e),t.prototype.render=function(){return Object(u.jsx)(Jn.b,or({iconPath:"/assets/icons"},{children:Object(u.jsx)(tr.a,{icon:Object(u.jsx)(Qn.a,{assistiveText:{label:"Opportunity"},category:"standard",name:"opportunity"},void 0),info:"10 items \u2022 Updated 13 minutes ago",label:"Opportunities",nameSwitcherDropdown:Object(u.jsx)(Xt.a,{assistiveText:{icon:"Name Switcher"},buttonClassName:"slds-button_icon-small",buttonVariant:"icon",iconCategory:"utility",iconName:"down",id:"page-header-name-switcher-dropdown",options:[{label:"Menu Item One",value:"A0"},{label:"Menu Item Two",value:"B0"},{label:"Menu Item Three",value:"C0"},{label:"Menu Item Four",value:"D0"}]},void 0),onRenderActions:function(){return Object(u.jsx)(nr.a,{children:Object(u.jsxs)(Zn.a,or({variant:"list",id:"button-group-page-header-actions"},{children:[Object(u.jsx)(xe.a,{label:"New"},void 0),Object(u.jsx)(Xt.a,{align:"right",assistiveText:{icon:"More Options"},iconCategory:"utility",iconName:"down",iconVariant:"border-filled",id:"page-header-dropdown-object-home-nav-right",options:[{label:"Menu Item One",value:"A0"},{label:"Menu Item Two",value:"B0"},{label:"Menu Item Three",value:"C0"},{type:"divider"},{label:"Menu Item Four",value:"D0"}]},void 0)]}),void 0)},void 0)},onRenderControls:function(){return Object(u.jsxs)(o.a.Fragment,{children:[Object(u.jsx)(nr.a,{children:Object(u.jsx)(Xt.a,or({align:"right",id:"page-header-dropdown-object-home-content-right",options:[{label:"Menu Item One",value:"A0"},{label:"Menu Item Two",value:"B0"},{label:"Menu Item Three",value:"C0"},{type:"divider"},{label:"Menu Item Four",value:"D0"}]},{children:Object(u.jsx)(er.a,{children:Object(u.jsx)(xe.a,{assistiveText:{icon:"List View Controls"},iconCategory:"utility",iconName:"settings",iconVariant:"more"},void 0)},void 0)}),void 0)},void 0),Object(u.jsx)(nr.a,{children:Object(u.jsx)(Xt.a,or({align:"right",assistiveText:{icon:"Change view"},iconCategory:"utility",iconName:"settings",iconVariant:"more",id:"page-header-dropdown-object-home-content-right-2",options:[{label:"Menu Item One",value:"A0"},{label:"Menu Item Two",value:"B0"},{label:"Menu Item Three",value:"C0"},{type:"divider"},{label:"Menu Item Four",value:"D0"}]},{children:Object(u.jsx)(er.a,{children:Object(u.jsx)(xe.a,{assistiveText:{icon:"Change view"},iconCategory:"utility",iconName:"table",iconVariant:"more",variant:"icon"},void 0)},void 0)}),void 0)},void 0),Object(u.jsx)(nr.a,{children:Object(u.jsx)(xe.a,{assistiveText:{icon:"Edit List"},iconCategory:"utility",iconName:"edit",iconVariant:"border-filled",variant:"icon"},void 0)},void 0),Object(u.jsx)(nr.a,{children:Object(u.jsx)(xe.a,{assistiveText:{icon:"Refresh"},iconCategory:"utility",iconName:"refresh",iconVariant:"border-filled",variant:"icon"},void 0)},void 0),Object(u.jsx)(nr.a,{children:Object(u.jsxs)(Zn.a,or({variant:"list",id:"button-group-page-header-controls"},{children:[Object(u.jsx)(xe.a,{assistiveText:{icon:"Charts"},iconCategory:"utility",iconName:"chart",iconVariant:"border-filled",variant:"icon"},void 0),Object(u.jsx)(xe.a,{assistiveText:{icon:"Filters"},iconCategory:"utility",iconName:"filterList",iconVariant:"border-filled",variant:"icon"},void 0)]}),void 0)},void 0)]},void 0)},title:"Recently Viewed",truncate:!0,variant:"object-home"},void 0)}),void 0)},t.displayName="ObjectHomePageHeaderExample"}(o.a.Component),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),ar=function(){return(ar=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},cr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ir(t,e),t.prototype.render=function(){var e=this.props,t=e.category,n=void 0===t?"standard":t,r=e.name,o=e.size,i=void 0===o?"small":o,a=e.assistiveText;return Object(u.jsx)(Jn.b,ar({actionSprite:Kn.a,standardSprite:Yn.a,customSprite:Gn.a,utilitySprite:Hn.a},{children:Object(u.jsx)(Qn.a,{assistiveText:a,category:n,name:r,size:i},void 0)}),void 0)},t}(o.a.Component),lr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sr=function(){return(sr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ur=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lr(t,e),t.prototype.render=function(){var e=this.props.children;return Object(u.jsx)(Jn.b,sr({actionSprite:Kn.a,standardSprite:Yn.a,customSprite:Gn.a,utilitySprite:Hn.a},{children:e}),void 0)},t}(o.a.Component),dr=(n(1031),function(){return(dr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),fr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function c(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}l((r=r.apply(e,t||[])).next())}))},pr=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},hr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},br=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},vr=(Ut.a.Option,Object(m.a)((function(e){var t,n=br(Object(r.useState)({open:!1,openTag:null}),2),i=n[0],a=n[1],c=(e.valueType,e.mode),l=e.fieldProps,s=(e.request,hr(e,["valueType","mode","fieldProps","request"])),d=l.field_schema,f=void 0===d?{}:d,h=l.depend_field_values,b=void 0===h?{}:h,v=l.onChange,m=f.reference_to,y=f.reference_sort,g=f.reference_limit,j=f.showIcon,A=f.multiple,O=f.reference_to_field,x=void 0===O?"_id":O,_=f.filters,E=void 0===_?[]:_,S=f.filtersFunction,C=l.value||e.text,I=[],P=p.a.isFunction(m)?m():m;p.a.isArray(P)&&(t=C&&C.o?C.o:P[0]);var T,k,F,N,R=br(Object(r.useState)(p.a.isArray(P)?t:P),2),B=R[0],M=R[1],L=br(Object(r.useState)(""),2),D=L[0],U=L[1],z=f.optionsFunction?f.optionsFunction:f.options;if(p.a.isObject(C)&&!p.a.isArray(C)&&(C=C.ids),B){if((T=ae.getObject(B)).isLoading)return Object(u.jsx)("div",{children:Object(u.jsx)(it.a,{},void 0)},void 0);k=T.schema,F=k.NAME_FIELD_KEY?k.NAME_FIELD_KEY:"name",k.icon&&(N=k.icon)}var W,q,V,J=[];if(T&&C&&(q=[[x,"=",C]],V=[x,F,"_id"]),"read"===c){if(C)if(B){if((X=T.getRecordList(q,V)).isLoading)return Object(u.jsx)("div",{children:Object(u.jsx)(it.a,{},void 0)},void 0);if((W=X.data)&&W.value&&W.value.length>0){var K=x;x&&"_id"!==x&&(K="_id"),J=W.value.map((function(e){return{value:e[K],label:e[F]}}))}I=J}else z=p.a.isFunction(z)?z(b):z,I=p.a.filter(z,(function(e){return A?C.indexOf(e.value)>-1:e.value===C}));return Object(u.jsx)(o.a.Fragment,{children:I.map((function(e,t){return Object(u.jsxs)(o.a.Fragment,{children:[t>0&&", ",B?Object(u.jsx)(Wt.a,dr({to:qt(B,e.value),className:"text-blue-600 hover:text-blue-500 hover:underline"},{children:e.label}),void 0):e.label]},e.value)}))},void 0)}A&&(l.mode="multiple");var G,Y=b,H=!1,Q=function(e,t){return fr(void 0,void 0,void 0,(function(){var t,n,r,o,i,a,c,l,s;return pr(this,(function(u){switch(u.label){case 0:return p.a.isFunction(z)?(Y.__keyWords=e.keyWords,Y.__referenceTo=B,[4,z(Y)]):[3,2];case 1:return[2,u.sent()];case 2:return t=[],n=[],r=[],C&&(n=[x,"=",C]),e.keyWords&&(r=[F,"contains",e.keyWords]),(o=S?S(E):E).length&&(r.length?p.a.isArray(o)?r=[o,r]:(i=Object(w.formatFiltersToODataQuery)(r),r="("+o+") and ("+i+")"):r=o),n.length&&r.length?p.a.isArray(r)?t=[n,"or",r]:(a=Object(w.formatFiltersToODataQuery)(n),t="("+a+") or ("+r+")"):n.length&&!open?t=n:r.length&&(t=r),c=[x,F],l={},y&&(l.sort=p.a.map(y,(function(e,t){return c.indexOf(t)<0&&c.push(t),t+(1==e?"":" desc")})).join(",")),g&&(l.pageSize=g),[4,Z.requestRecords(B,t,c,l)];case 3:return s=u.sent(),[2,s.value.map((function(e){return{label:e[F],value:e[x]}}))]}}))}))};B?z?z&&(p.a.isArray(z)?l.options=z:p.a.isFunction(z)&&(G=Q)):G=Q:p.a.isFunction(z)?G=function(e,t){return fr(void 0,void 0,void 0,(function(){return pr(this,(function(t){switch(t.label){case 0:return b.__keyWords=e.keyWords,[4,z(b)];case 1:return[2,t.sent()]}}))}))}:l.options=z;var $=l;if(p.a.isArray(P)){var X;if(H=!0,C)(W=(X=T.getRecordList(q,V)).data)&&W.value&&W.value.length>0&&(D=W.value.map((function(e){return e[F]})).join(","));$=Object.assign({},l,{value:{value:l.value,label:D},onChange:function(e,t){U(e.label),v({o:B,ids:[e.value]})}})}var ee=void 0;j&&N&&(ee=function(e){return Object(u.jsxs)(o.a.Fragment,{children:[Object(u.jsx)("span",dr({role:"img","aria-label":"smile",className:"anticon anticon-smile"},{children:Object(u.jsx)(cr,{name:N,size:"x-small"},void 0)}),void 0),Object(u.jsx)("span",{children:e.label},void 0)]},void 0)});var te=void 0,ne=k&&k.enable_tree;te=ne?{objectApiName:B,onChange:$.onChange,multiple:A,value:$.value}:dr({mode:c,showSearch:!0,showArrow:!0,optionFilterProp:"label",fieldProps:$,request:G,labelInValue:H,params:i,onDropdownVisibleChange:function(e){e&&a({open:e,openTag:new Date})},optionItemRender:ee},s);var re={mode:c,showSearch:!0,showArrow:!0,optionFilterProp:"label",onChange:function(e){M(e)},defaultValue:B},oe=p.a.isArray(P)&&!p.a.isArray(z),ie=[],ce=void 0;if(oe&&(p.a.forEach(P,(function(e){var t=ae.getObject(e);t.isLoading||ie.push({label:t.schema.label,value:e})})),ce=ie.length!==P.length),ce)return Object(u.jsx)("div",{children:Object(u.jsx)(it.a,{},void 0)},void 0);var le=p.a.isArray(P)?"70%":"100%";return Object(u.jsxs)(o.a.Fragment,{children:[oe&&Object(u.jsx)(Ut.a,dr({style:{width:"30%"}},re,{options:ie}),void 0),ne?Object(u.jsx)(mr,dr({},te,{style:{width:le}}),void 0):Object(u.jsx)(En.b,dr({},te,{style:{width:le}}),void 0)]},void 0)}))),mr=Object(m.a)((function(e){var t=e.objectApiName,n=e.nameField,r=void 0===n?"name":n,o=e.parentField,i=void 0===o?"parent":o,a=e.filters,c=void 0===a?[]:a,l=e.value,s=e.onChange,d=hr(e,["objectApiName","nameField","parentField","filters","value","onChange"]),f=[r,i],p=ae.getObject(t);if(p.isLoading)return Object(u.jsx)("div",{children:Object(u.jsx)(it.a,{},void 0)},void 0);var h=[],b=p.getRecordList(c,f);if(b.isLoading)return Object(u.jsx)("div",{children:Object(u.jsx)(it.a,{},void 0)},void 0);var v=b.data;return v&&v.value&&v.value.length>0&&(h=Vt(v.value,r,i)),Object(u.jsx)(Mn.a,dr({style:{width:"100%"},value:l,dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:h,placeholder:"\u8bf7\u9009\u62e9",onChange:s},d),void 0)})),yr={render:function(e,t){return Object(u.jsx)(vr,dr({},t,{mode:"read"}),void 0)},renderFormItem:function(e,t){return Object(u.jsx)(vr,dr({},t,{mode:"edit"}),void 0)}},gr=function(){return(gr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},jr={render:function(e,t){return Object(u.jsx)(vr,gr({},t,{mode:"read"}),void 0)},renderFormItem:function(e,t){return Object(u.jsx)(vr,gr({},t,{mode:"edit"}),void 0)}},Ar=n(681),Or=n.n(Ar),wr=function(){return(wr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},xr=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},_r=function(e){var t=xr(Fe.default.useForm(),1)[0],n=(e.mode,e.text,e.fieldProps),r=void 0===n?{}:n,o=r.field_schema,i=void 0===o?{}:o,a=(r.depend_field_values,r.value),c=r.onChange,l=i.sub_fields,s=void 0===l?{}:l,d=i.columns,f=void 0===d?2:d,h=(i.label?i.label:i.name,{templateColumns:["repeat(1, 1fr)","repeat("+f+", 1fr)"],gridColumn:"span 2/span 2",gap:"0.5rem 2rem"});return Object(u.jsx)(Or.a,wr({className:"object-sub-form",initialValues:a,labelAlign:"left",form:t,component:!1,submitter:!1,onValuesChange:function(e,t){c&&c(t)}},{children:Object(u.jsx)(Ce.a,wr({},h,{children:function(){var e=[];return p.a.forEach(s,(function(t,n){var r={key:n,name:n,fieldName:n,label:t.label?t.label:n,fieldSchema:t};e.push(Object(u.jsx)(ot,wr({},r),void 0))})),e}()}),void 0)}),void 0)},Er={render:function(e,t){return Object(u.jsx)(_r,wr({},t,{mode:"read"}),void 0)},renderFormItem:function(e,t){return Object(u.jsx)(_r,wr({},t,{mode:"edit"}),void 0)}},Sr=n(1067),Cr=(n(1035),n(1036),n(1037),function(){return(Cr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),Ir=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Pr=function(e){var t=e.value,n=e.valueType,r=void 0===n?"text":n,o=e.fieldSchema;return Object(u.jsx)(ge.a,{mode:"read",valueType:r,fieldProps:{field_schema:o},text:t,emptyText:""},void 0)},Tr=Object(r.forwardRef)((function(e,t){var n=e.valueType,o=void 0===n?"text":n,i=e.fieldSchema,a=Ir(Object(r.useState)(e.value),2),c=a[0],l=a[1];return Object(r.useImperativeHandle)(t,(function(){return{getValue:function(){return c},isPopup:function(){return!0}}})),Object(u.jsx)("section",Cr({className:"slds-popover slds-popover slds-popover_edit",role:"dialog"},{children:Object(u.jsx)("div",Cr({className:"slds-popover__body"},{children:Object(u.jsx)(ge.a,{mode:"edit",valueType:o,value:c,onChange:function(e){var t,n;(null===(t=null===e||void 0===e?void 0:e.currentTarget)||void 0===t?void 0:t.value)?l(null===(n=null===e||void 0===e?void 0:e.currentTarget)||void 0===n?void 0:n.value):l(e)},fieldProps:{field_schema:i}},void 0)}),void 0)}),void 0)})),kr=function(e){var t=e.mode,n=void 0===t?"read":t,o=(e.text,e.fieldProps),i=void 0===o?{}:o,a=i.field_schema,c=void 0===a?{}:a,l=(i.depend_field_values,i.value),s=i.onChange;p.a.forEach(l,(function(e){e._id||(e._id=Object(Sr.a)())}));var d=Ir(Object(r.useState)(l&&p.a.isArray(l)?l:[]),2),f=d[0],h=(d[1],Ir(Object(r.useState)(null),2)),b=h[0],v=h[1];return Object(u.jsxs)("div",Cr({className:"ag-theme-balham steedos-grid"},{children:[Object(u.jsx)(Yt.AgGridReact,{immutableData:!0,getRowNodeId:function(e){return e._id},rowDragManaged:!0,animateRows:!0,rowData:f,columnDefs:function(){var e=c.sub_fields,t=void 0===e?[]:e,r=[{rowDrag:"edit"==n,hide:!("edit"==n),resizable:!1,width:35,maxWidth:35,minWidth:35}];return p.a.forEach(t,(function(e,t){r.push({field:t,headerName:e.label?e.label:t,width:e.is_wide?300:150,minWidth:e.is_wide?300:150,resizable:!0,filter:!0,cellRenderer:"proFieldRenderer",cellRendererParams:{fieldSchema:e,valueType:e.type,mode:n},cellEditor:"proFieldEditor",cellEditorParams:{fieldSchema:e,valueType:e.type,mode:n},editable:!e.readonly})})),r.push({hide:!("edit"==n),width:50,maxWidth:50,minWidth:50,resizable:!1,cellRenderer:"rowActions",cellEditor:"rowActions"}),r}(),stopEditingWhenGridLosesFocus:!0,onRowDragEnd:function(e){var t=[];e.api.forEachNode((function(e){t.push(e.data)})),s(t)}.bind(undefined),onCellClicked:function(e){"read"!=n&&e.api.startEditingCell({rowIndex:e.rowIndex,colKey:e.column.colId})},onGridReady:function(e){v(e.api),e.api.sizeColumnsToFit()},suppressNoRowsOverlay:!0,frameworkComponents:{proFieldRenderer:Pr,proFieldEditor:Tr,rowActions:function(e){return Object(u.jsx)(Xt.a,{assistiveText:{icon:"Options"},iconCategory:"utility",iconName:"down",iconVariant:"border-filled",iconSize:"x-small",width:"x-small",menuPosition:"overflowBoundaryElement",onSelect:function(t){"delete"===t.value&&function(e){var t,n=null===(t=e.data)||void 0===t?void 0:t._id,r=f.filter((function(e){return e._id!=n}));e.api.setRowData(r),s(r)}(e)},options:[{label:"\u5220\u9664",value:"delete"}]},void 0)}}},void 0),"edit"==n&&Object(u.jsx)(xe.a,{iconCategory:"utility",iconName:"add",iconPosition:"left",label:"\u65b0\u5efa",variant:"base",onClick:function(){return function(){var e={_id:Object(Sr.a)()};f.push(e),b.setRowData(f),s(f)}()}},void 0)]}),void 0)},Fr={render:function(e,t){return Object(u.jsx)(kr,Cr({},t,{mode:"read"}),void 0)},renderFormItem:function(e,t){return Object(u.jsx)(kr,Cr({},t,{mode:"edit"}),void 0)}},Nr=n(1064),Rr=n(684),Br=function(){return(Br=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Mr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function c(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}l((r=r.apply(e,t||[])).next())}))},Lr=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},Dr=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ur=Object(m.a)((function(e){var t=e.fieldProps,n=void 0===t?{}:t,o=e.mode,i=e.text,a=e.fileType,c=n.onChange;if("read"===o){var l=H.rootUrl+"/api/files/"+a+"/"+i;return Object(u.jsx)(Rr.a,{alt:"\u56fe\u7247",width:32,src:l},void 0)}if("edit"===o){var s=Object.assign({},e,{name:"file"}),d=Dr(Object(r.useState)([]),2),f=d[0],p=d[1],h={action:H.rootUrl+"/s3/"+a,listType:"picture-card",fileList:f,onPreview:function(e){return Mr(void 0,void 0,void 0,(function(){var t,n;return Lr(this,(function(r){switch(r.label){case 0:return(t=e.url)?[3,2]:[4,new Promise((function(t){var n=new FileReader;n.readAsDataURL(e.originFileObj),n.onload=function(){return t(n.result)}}))];case 1:t=r.sent(),r.label=2;case 2:return(n=new window.Image).src=t,window.open(t).document.write(n.outerHTML),[2]}}))}))},type:"file",method:"post",accept:"image/png, image/jpeg, image/jpg, image/gif",data:{space:H.tenantId,owner:H.userId},headers:{"X-User-Id":H.userId,"X-Auth-Token":H.authToken},onChange:function(e){var t=e.file,n=e.fileList;p(n),"done"===t.status&&c(t.response._id)}};return Object(u.jsx)(Nr.a,Br({},s,h,{children:f.length<1&&"+ Upload"}),void 0)}})),zr=function(){return(zr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Wr={boolean:pn,currency:bn,datetime:mn,email:gn,number:An,percent:_n,select:kn,toggle:Nn,url:Bn,lookup:yr,master_detail:jr,image:{render:function(e,t){return Object(u.jsx)(Ur,Br({},t,{mode:"read",fileType:"images"}),void 0)},renderFormItem:function(e,t){return Object(u.jsx)(Ur,Br({},t,{mode:"edit",fileType:"images"}),void 0)}},avatar:{render:function(e,t){return Object(u.jsx)(Ur,zr({},t,{mode:"read",fileType:"avatars"}),void 0)},renderFormItem:function(e,t){return Object(u.jsx)(Ur,zr({},t,{mode:"edit",fileType:"avatars"}),void 0)}},object:Er,grid:Fr,formula:{render:function(e,t){return Object(u.jsx)("span",{children:e},void 0)},renderFormItem:function(e,t){return Object(u.jsx)("span",{},void 0)}},summary:{render:function(e,t){return Object(u.jsx)("span",{children:e},void 0)},renderFormItem:function(e,t){return Object(u.jsx)("span",{},void 0)}},autonumber:{render:function(e,t){return Object(u.jsx)("span",{children:e},void 0)},renderFormItem:function(e,t){return Object(u.jsx)("span",{},void 0)}}},qr=function(){return(qr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Vr={defaultOptions:{queries:{refetchOnWindowFocus:!1}}};function Jr(e){var t=e.locale,n=e.requestObject,r=e.requestRecords,o=e.updateRecord,i=e.insertRecord,a=e.queryClient,c=void 0===a?new sn.a(Vr):a,l=e.children;return Object(u.jsx)(ln.Provider,qr({value:{queryClient:c,requestObject:n,requestRecords:r,updateRecord:o,insertRecord:i}},{children:Object(u.jsx)(un.a,qr({client:c},{children:Object(u.jsx)(Ye,qr({locale:t,valueTypeMap:Wr},{children:l}),void 0)}),void 0)}),void 0)}var Kr=function(){return(Kr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Gr(e){var t=e.rootUrl,n=e.tenantId,r=void 0===n?localStorage.getItem("steedos:spaceId"):n,o=e.userId,i=void 0===o?localStorage.getItem("steedos:userId"):o,a=e.authToken,c=void 0===a?localStorage.getItem("steedos:token"):a,l=e.locale;H.setRootUrl(t),H.setTenantId(r),H.setUserId(i),H.setAuthToken(c),H.setLocale(l);var s={locale:l,requestObject:Z.requestObject,requestRecords:Z.requestRecords,updateRecord:Z.updateRecord,insertRecord:Z.insertRecord};return Object(u.jsx)(Yr.Provider,Kr({value:{}},{children:Object(u.jsx)(ur,{children:Object(u.jsx)(Jr,Kr({},s,{children:e.children}),void 0)},void 0)}),void 0)}var Yr=o.a.createContext(null),Hr=n(683),Qr=n.n(Hr),$r=function(e){var t=RegExp(e+"=.[^;]*"),n=document.cookie.match(t);return n?n[0].split("=")[1]:""};var Xr=function(e){var t=Qr.a.parse(window.location.search.slice(1)),n={rootUrl:t.rooturl||H.rootUrl||"/",tenantId:t.spaceid||$r("X-Space-Id")||H.tenantId,userId:t.userid||$r("X-User-Id")||H.userId,authToken:t.authtoken||$r("X-Auth-Token")||H.authToken,locale:H.locale},o=Object(r.useState)([]),i=Object(s.a)(o,2),a=i[0],d=i[1],f=Object(r.useState)([]),p=Object(s.a)(f,2),h=p[0],b=p[1],v=Object(r.useState)([]),m=Object(s.a)(v,2),y=m[0],g=m[1];Object(r.useEffect)((function(){d([].concat(Object(l.a)(h),Object(l.a)(y)))}),[h,y]);var j=Object(Ie.a)(),A="sm"===j||"xs"===j,O=A?[{fieldName:"name",hideInSearch:!0,sorter:!0},{fieldName:"email",hideInSearch:!0},{fieldName:"organizations_parents",hideInTable:!0}]:[{fieldName:"name",sorter:!0},{fieldName:"email"},{fieldName:"organizations_parents",hideInTable:!0,expandType:"tree",expandReference:"organizations",expandNameField:"name",expandParentField:"parent"}],w=A?[{fieldName:"name",sorter:!0,hideInSearch:!0},{fieldName:"email",hideInSearch:!0},{fieldName:"group",hideInTable:!0}]:[{fieldName:"name",sorter:!0},{fieldName:"email"},{fieldName:"group",hideInTable:!0,expandType:"list",expandReference:"contacts_group",expandNameField:"name"}];return Object(u.jsx)(Gr,Object(c.a)(Object(c.a)({},n),{},{children:Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(Nt.a,{className:"main-container",title:"",split:"horizontal",bordered:!0,headerBordered:!0,children:[Object(u.jsxs)(Nt.a,{tabs:{type:"card"},children:[Object(u.jsx)(Nt.a.TabPane,{tab:"\u7528\u6237".concat(h.length>0?"("+h.length+")":""),children:Object(u.jsx)(Dt,{onChange:function(e){b(e)},objectApiName:"space_users",search:{filterType:"light"},columnFields:O})},"tab1"),Object(u.jsx)(Nt.a.TabPane,{tab:"\u8054\u7cfb\u4eba".concat(y.length>0?"("+y.length+")":""),children:Object(u.jsx)(Dt,{onChange:function(e){g(e)},rowKey:"_id",objectApiName:"contacts__c",search:{filterType:"light"},columnFields:w})},"tab2")]}),Object(u.jsx)(Nt.a,{style:{height:"60px"},bodyStyle:{display:"flex",justifyContent:"flex-end",alignItems:"center"},children:Object(u.jsx)(zt.default,{disabled:a.length<=0,onClick:function(){(window.opener||window.parent).postMessage(Object(c.a)(Object(c.a)({},t),{},{selection:a.map((function(e){return{name:e.name,email:e.email}}))}),"*"),window.close()},type:"primary",children:"\u786e\u5b9a"})})]})})}))},Zr=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1071)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),i(e),a(e)}))};a.a.render(Object(u.jsx)(Xr,{}),document.getElementById("root")),Zr()},635:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return convertObjectSchema}));var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(20),lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);function saveEval(js){try{return eval(js)}catch(e){console.error(e,js)}}var getFieldSchema=function(e,t){var n,r={},o=t.fields[e],i=o&&o.type,a=e.replace(/\$/g,"\\$").replace(/\./g,"\\.");switch(i){case"object":n={},lodash__WEBPACK_IMPORTED_MODULE_0___default.a.each(t.fields,(function(e,r){if(new RegExp("^"+a+"\\.\\w+$").test(r)){var o=r.match(/.(\w+)$/g),i=o&&o[0].replace(".","");i&&(n[i]=getFieldSchema(r,t))}})),r=Object.assign({},o,{sub_fields:n});break;case"grid":n={},lodash__WEBPACK_IMPORTED_MODULE_0___default.a.each(t.fields,(function(e,r){if(new RegExp("^"+a+"\\.\\$\\.\\w+$").test(r)){var o=r.match(/.(\w+)$/g),i=o&&o[0].replace(".","");i&&(n[i]=getFieldSchema(r,t))}})),r=Object.assign({},o,{sub_fields:n});break;case"lookup":if("users"===o.reference_to)r=Object.assign({},o,{reference_to:"space_users",reference_to_field:"user"});else if(o._reference_to){var c=saveEval("("+o._reference_to+")");r=Object.assign({},o,{reference_to:c})}else r=o;break;default:r=o}return r};function getFieldsSchema(e){var t={};return lodash__WEBPACK_IMPORTED_MODULE_0___default.a.each(e.fields,(function(n,r){if(!/\w+\.($\.)?(\w+)?/.test(r)){var o=getFieldSchema(r,e);o&&(t[r]=o)}})),t}var getListViewSchema=function(e){if(e._filters){var t=saveEval("("+e._filters+")");return Object.assign({},e,{filters:t})}return lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isArray(e.filters)?(lodash__WEBPACK_IMPORTED_MODULE_0___default.a.forEach(e.filters,(function(e,t){if(lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isArray(e)){if(4===e.length&&lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isString(e[2])&&"FUNCTION"===e[3]&&(e[2]=saveEval("("+e[2]+")"),e.pop()),4===e.length&&lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isString(e[2])&&"DATE"===e[3])return e[2]=new Date(e[2]),e.pop()}else if(lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isObject(e)){if(lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isString(e&&e._value))return e.value=saveEval("("+e._value+")");if(!0===e._is_date)return e.value=new Date(e.value)}})),e):e};function getListViewsSchema(e){var t={};return lodash__WEBPACK_IMPORTED_MODULE_0___default.a.each(e.list_views,(function(e,n){var r=getListViewSchema(e);r&&(t[n]=r)})),t}function convertObjectSchema(e){e.fields=getFieldsSchema(e),e.list_views=getListViewsSchema(e)}function getObjectOdataExpandFields(e,t){var n,r;return n=[],r=e.fields,t&&0!=t.length||(t=lodash__WEBPACK_IMPORTED_MODULE_0___default.a.keys(r)),lodash__WEBPACK_IMPORTED_MODULE_0___default.a.each(t,(function(e){var t,o;if(r&&("master_detail"===(null!=(t=r[e])?t.type:void 0)||"lookup"===(null!=(o=r[e])?o.type:void 0)))return n.push(e)})),n.join(",")}function convertRecordsForLookup(e,t){var n=e&&e.value;return n&&n.length&&(e.value=n.map((function(e){return lodash__WEBPACK_IMPORTED_MODULE_0___default.a.each(e,(function(n,r){if(n){var o=t&&t[r];if(o&&["lookup","master_detail"].indexOf(o.type)>-1&&o.reference_to){var i=void 0;if(o.reference_to&&(i=o.reference_to,lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isFunction(i)&&(i=i())),i&&i.length){lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isArray(n)||(n=[n]);var a,c=[],l=[];lodash__WEBPACK_IMPORTED_MODULE_0___default.a.forEach(n,(function(e){if(a=e["reference_to.o"]){var t=e._id,n=e._NAME_FIELD_VALUE;t&&c.push(t),n&&l.push(n)}})),a&&(lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isArray(i)?(e[r].o=a,c&&c.length&&(e[r].ids=c),l&&l.length&&(e[r].labels=l),delete e[r]["reference_to._o"],delete e[r]["reference_to.o"],delete e[r]._NAME_FIELD_VALUE,delete e[r]._id):e[r]=o.multiple?c:c[0])}}}})),e}))),e}},727:function(e,t,n){},728:function(e,t,n){},808:function(e,t,n){var r=n(29),o=n(809);"string"===typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},809:function(e,t,n){"use strict";n.r(t);var r=n(16),o=n.n(r)()(!0);o.push([e.i,".builder-form .ant-form-item.field {\n  margin-bottom: 0;\n  padding-bottom: 2px;\n  padding-top: 2px;\n}\n.builder-form .ant-form-item.field.mode-read {\n  border-bottom: 1px solid #dddbda;\n}\n.builder-form .ant-form-item.field.mode-edit {\n  padding-bottom: 4px;\n  padding-top: 4px;\n}\n.builder-form .ant-form-item.field.mode-edit .ant-input-number {\n  width: 100%;\n}\n.builder-form .ant-form-item.field.mode-edit .ant-picker {\n  width: 100%;\n}\n.builder-form .ant-form-vertical .ant-form-item-label {\n  padding: 0;\n}\n.builder-form .ant-form-item-control-input {\n  min-height: 16px;\n}\n.builder-form .ant-form-item .ant-form-item-label {\n  white-space: inherit;\n  padding-bottom: 0;\n}\n.builder-form .ant-form-item .ant-form-item-label > label {\n  font-size: 12px;\n  height: 24px;\n  color: var(--lwc-colorTextLabel, #3e3e3c);\n  height: auto;\n  white-space: inherit;\n}\n.builder-form .slds-section__title {\n  font-weight: inherit;\n}\n","",{version:3,sources:["webpack://../builder-form/src/components/Field.less"],names:[],mappings:"AAAA;EAEI,gBAAA;EACA,mBAAA;EACA,gBAAA;AAAJ;AACI;EACE,gCAAA;AACN;AAOI;EAOE,mBAAA;EACA,gBAAA;AAXN;AAGI;EAEI,WAAA;AAFR;AAAI;EAKI,WAAA;AAFR;AAjBA;EA2BI,UAAA;AAPJ;AApBA;EA8BI,gBAAA;AAPJ;AAvBA;EAqCM,oBAAA;EACA,iBAAA;AAXN;AA3BA;EAwCQ,eAAA;EACA,YAAA;EACA,yCAAA;EACA,YAAA;EACA,oBAAA;AAVR;AAlCA;EAyDI,oBAAA;AApBJ",sourcesContent:[".builder-form {\n  .ant-form-item.field {\n    margin-bottom: 0;\n    padding-bottom: 2px;\n    padding-top: 2px;\n    &.mode-read {\n      border-bottom: 1px solid #dddbda;\n      // &.type-object {\n      //   border-bottom: 0\n      // }\n      // &.type-grid {\n      //   border-bottom: 0\n      // }\n    }\n    &.mode-edit {\n      .ant-input-number {\n        width: 100%\n      }\n      .ant-picker {\n        width: 100%\n      }\n      padding-bottom: 4px;\n      padding-top: 4px;\n    }\n  }\n  \n  .ant-form-vertical .ant-form-item-label {\n    padding: 0;\n  }\n  .ant-form-item-control-input {\n    min-height: 16px;\n  }\n\n\n  .ant-form-item {\n\n    .ant-form-item-label {\n      white-space: inherit;\n      padding-bottom: 0;\n      > label {\n        font-size: 12px;\n        height: 24px;\n        color: var(--lwc-colorTextLabel,rgb(62, 62, 60));\n        height: auto;\n        white-space: inherit;\n      }\n    }\n\n    // &.field.type-object > .ant-form-item-label {\n    //   display: none;\n    // }\n    // &.field.type-grid > .ant-form-item-label {\n    //   display: none;\n    // }\n  }\n\n  .slds-section__title {\n    font-weight: inherit\n  }\n}\n"],sourceRoot:""}]),t.default=o},992:function(e,t,n){var r=n(29),o=n(993);"string"===typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},993:function(e,t,n){"use strict";n.r(t);var r=n(16),o=n.n(r)()(!0);o.push([e.i,".object-form {\n  padding: 0;\n}\n","",{version:3,sources:["webpack://../builder-object/src/components/ObjectForm.less"],names:[],mappings:"AAAA;EACE,UAAA;AACF",sourcesContent:[".object-form {\n  padding: 0;\n  // .ant-form-item {\n  //   margin-bottom: 0;\n  // }\n  // .ant-form-vertical .ant-form-item-label {\n  //   padding: 0;\n  // }\n  // .ant-form-item-control-input {\n  //   min-height: 16px;\n  // }\n}\n"],sourceRoot:""}]),t.default=o},994:function(e,t,n){var r=n(29),o=n(995);"string"===typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},995:function(e,t,n){"use strict";n.r(t);var r=n(16),o=n.n(r)()(!0);o.push([e.i,".object-table .ant-pro-table-list-toolbar-container {\n  padding: 8px;\n  padding-bottom: 8px;\n}\n.object-table .ant-pro-table-list-toolbar-filter .ant-form .ant-pro-form-light-filter .ant-pro-form-light-filter-container {\n  overflow: hidden;\n}\n","",{version:3,sources:["webpack://../builder-object/src/components/ObjectTable.less"],names:[],mappings:"AAAA;EAmCI,YAAA;EACA,mBAAA;AAjCJ;AAHA;EA2CU,gBAAA;AArCV",sourcesContent:['.object-table {\n  // .ant-pro-table-search {\n  //   // margin-bottom: 0;\n  //   // padding-left: 0;\n  //   // padding-right: 0;\n  //   form {\n  //     width: 100%;\n  //     .ant-row {\n  //       width: 100%;\n  //     }\n  //   }\n  //   .ant-form-item {\n  //     -webkit-box-sizing: border-box;\n  //     box-sizing: border-box;\n  //     margin: 0;\n  //     padding: 0;\n  //     color: rgba(0, 0, 0, 0.85);\n  //     font-size: 14px;\n  //     font-variant: tabular-nums;\n  //     line-height: 1.5715;\n  //     list-style: none;\n  //     -webkit-font-feature-settings: "tnum";\n  //     font-feature-settings: "tnum", "tnum";\n  //     margin-bottom: 24px;\n  //     vertical-align: top;\n  //   }\n  // }\n  // .ant-card-body {\n  //   padding-left: 0;\n  //   padding-right: 0;\n  // }\n  // .ant-table-tbody > tr:last-child > td {\n  //   border: none;\n  // }\n  .ant-pro-table-list-toolbar-container {\n    padding: 8px;\n    padding-bottom: 8px;\n  }\n  .ant-pro-table-list-toolbar-filter{\n    .ant-form{\n      .ant-pro-form-light-filter{\n        .ant-pro-form-light-filter-container{\n          // \u5217\u8868\u8fc7\u6ee4\u6761\u4ef6\u533a\u57df\uff0c\u5982\u679c\u6700\u540e\u4e00\u4e2a\u8fc7\u6ee4\u5b57\u6bb5\u662f\u4e0b\u62c9\u6846\u5b57\u6bb5\u4f1a\u663e\u793a\u6c34\u5e73\u6eda\u52a8\u6761\n          overflow: hidden;\n        }\n      }\n    }\n  }\n}\n\n'],sourceRoot:""}]),t.default=o},996:function(e,t,n){var r=n(29),o=n(997);"string"===typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},997:function(e,t,n){"use strict";n.r(t);var r=n(16),o=n.n(r)()(!0);o.push([e.i,".ant-tree-treenode {\n  width: 100%;\n  display: flex;\n  justify-content: flex-start;\n}\n.ant-tree-node-content-wrapper {\n  flex: 1;\n  text-align: left;\n}\n","",{version:3,sources:["webpack://../builder-object/src/components/ObjectTree.less"],names:[],mappings:"AAAA;EACE,WAAA;EACA,aAAA;EACA,2BAAA;AACF;AACA;EACE,OAAA;EACA,gBAAA;AACF",sourcesContent:[".ant-tree-treenode {\n  width: 100%;\n  display: flex;\n  justify-content: flex-start;\n}\n.ant-tree-node-content-wrapper {\n  flex: 1;\n  text-align: left;\n}\n\n"],sourceRoot:""}]),t.default=o},998:function(e,t,n){var r=n(29),o=n(999);"string"===typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},999:function(e,t,n){"use strict";n.r(t);var r=n(16),o=n.n(r)()(!0);o.push([e.i,".object-list-item {\n  margin-bottom: 4px;\n  padding: 4px;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  user-select: none;\n  cursor: pointer;\n  padding: 0 4px;\n  transition: all 0.3s;\n  background: transparent;\n  border-radius: 2px;\n}\n.object-list-item:hover {\n  background-color: #f5f5f5;\n}\n.object-list-item.selected {\n  background-color: #bae7ff;\n}\n.object-list-item > :first-child {\n  margin-right: 8px;\n}\n","",{version:3,sources:["webpack://../builder-object/src/components/ObjectList.less"],names:[],mappings:"AAAA;EACE,kBAAA;EACA,YAAA;EACA,aAAA;EACA,2BAAA;EACA,mBAAA;EACA,iBAAA;EACA,eAAA;EACA,cAAA;EACA,oBAAA;EACA,uBAAA;EACA,kBAAA;AACF;AACE;EACE,yBAAA;AACJ;AACE;EACE,yBAAA;AACJ;AAEE;EACE,iBAAA;AAAJ",sourcesContent:[".object-list-item {\n  margin-bottom: 4px;\n  padding: 4px;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  user-select: none;\n  cursor: pointer;\n  padding: 0 4px;\n  transition: all 0.3s;\n  background: transparent;\n  border-radius: 2px;\n\n  &:hover {\n    background-color: #f5f5f5;\n  }\n  &.selected {\n    background-color: #bae7ff;\n  }\n\n  & > :first-child {\n    margin-right: 8px;\n  }\n}\n\n"],sourceRoot:""}]),t.default=o}},[[1041,1,2]]]);
//# sourceMappingURL=main.9133fd1c.chunk.js.map